import{V as M,_ as $}from"./VSnackbar-bfdea7fe.js";import{N as K,O,R as z,G as S,S as E,a6 as G,n as e,H as w,j as m,o as J,b as H,w as a,l as r,p as t,V as W,v as I,C as _,x as C,E as v,ab as q,L as Q,s as X}from"./main-b50d5463.js";import{a as Y}from"./axios-c835c00c.js";import{u as P,b as B,m as Z,a as ee}from"./route-block-d2974df6.js";import{V as L}from"./VImg-baea078e.js";import{a as k,V as R}from"./VRow-4cca22a4.js";import{V as te,d as T}from"./VCard-b32c692a.js";import{m as se,u as ae,c as D}from"./VTextField-93f4669b.js";import{m as oe,V as N}from"./VCheckboxBtn-3b1c30a5.js";import"./forwardRefs-147dc27a.js";import"./transition-a497af79.js";import"./VAvatar-8d1777e9.js";const le=K()({name:"VCheckbox",inheritAttrs:!1,props:{...se(),...O(oe(),["inline"])},emits:{"update:focused":l=>!0},setup(l,x){let{attrs:y,slots:b}=x;const{isFocused:u,focus:i,blur:d}=ae(l),p=z(),f=S(()=>l.id||`checkbox-${p}`);return E(()=>{const[c,n]=G(y),[h,V]=D.filterProps(l),[s,g]=N.filterProps(l);return e(D,w({class:["v-checkbox",l.class]},c,h,{id:f.value,focused:u.value,style:l.style}),{...b,default:o=>{let{id:U,messagesId:A,isDisabled:F,isReadonly:j}=o;return e(N,w(s,{id:U.value,"aria-describedby":A.value,disabled:F.value,readonly:j.value},n,{onFocus:i,onBlur:d}),b)}})}),{}}}),ne="/build/assets/auth-v2-login-illustration-bordered-dark-a595a9b7.png",re="/build/assets/auth-v2-login-illustration-bordered-light-47ee3625.png",ue="/build/assets/auth-v2-login-illustration-dark-0878e8b9.png",ie="/build/assets/auth-v2-login-illustration-light-d1fd488d.png";const de={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},ce={class:"d-flex align-center justify-center w-100 h-100"},me={class:"text-h5 mb-1"},pe={class:"text-capitalize"},fe=r("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),ge={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},be=r("a",{class:"text-primary ms-2 mb-1",href:"#"}," Forgot Password? ",-1),he={__name:"login",setup(l){const x=X(),y=P(ie,ue,re,ne,!0),b=P(ee,Z),u=m(!1),i=m(""),d=m(""),p=m(!1),f=S(()=>c.value.length>0),c=m(""),n=m(!1),h=()=>{n.value=!0,Y.post("/auth/login",{username:i.value,password:d.value}).then(V=>{n.value=!1;const{accessToken:s,userData:g}=V.data;localStorage.setItem("userData",JSON.stringify(g)),localStorage.setItem("accessToken",JSON.stringify(s)),x.replace("/campaigns")}).catch(V=>{c.value="Unauthorized: Please check your credentials.",n.value=!1,setTimeout(()=>{c.value=""},1800)})};return(V,s)=>{const g=$;return J(),H(R,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:a(()=>[e(k,{lg:"8",class:"d-none d-lg-flex"},{default:a(()=>[r("div",de,[r("div",ce,[e(L,{"max-width":"505",src:t(y),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(L,{src:t(b),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(k,{cols:"12",lg:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:a(()=>[e(te,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:a(()=>[e(T,null,{default:a(()=>[e(t(W),{nodes:t(I).app.logo,class:"mb-6"},null,8,["nodes"]),r("h5",me,[_(" Welcome to "),r("span",pe,C(t(I).app.title),1),_("! ðŸ‘‹ðŸ» ")]),fe]),_:1}),e(T,null,{default:a(()=>[e(R,null,{default:a(()=>[e(k,{cols:"12"},{default:a(()=>[e(g,{modelValue:t(i),"onUpdate:modelValue":s[0]||(s[0]=o=>v(i)?i.value=o:null),label:"Username",type:"text",autofocus:""},null,8,["modelValue"])]),_:1}),e(k,{cols:"12"},{default:a(()=>[e(g,{modelValue:t(d),"onUpdate:modelValue":s[1]||(s[1]=o=>v(d)?d.value=o:null),label:"Password",type:t(u)?"text":"password","append-inner-icon":t(u)?"tabler-eye-off":"tabler-eye",onKeyup:q(h,["enter"]),"onClick:appendInner":s[2]||(s[2]=o=>u.value=!t(u))},null,8,["modelValue","type","append-inner-icon","onKeyup"]),r("div",ge,[e(le,{modelValue:t(p),"onUpdate:modelValue":s[3]||(s[3]=o=>v(p)?p.value=o:null),label:"Remember me"},null,8,["modelValue"]),be]),e(Q,{block:"",loading:t(n),disabled:t(n),onClick:h},{default:a(()=>[_(" Login ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),e(M,{modelValue:t(f),"onUpdate:modelValue":s[4]||(s[4]=o=>v(f)?f.value=o:null),timeout:1e3,location:"top end",color:"error"},{default:a(()=>[_(C(t(c)),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}};typeof B=="function"&&B(he);export{he as default};
