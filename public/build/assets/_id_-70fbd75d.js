import{_ as ge}from"./AppDateTimePicker-b68769a1.js";import{_ as ce}from"./AppSelect-c7883347.js";import{m as it,n as pe,i as Me,t as ut,a as Oe,f as Ue}from"./auth-ec437199.js";import{a as N}from"./axios-c835c00c.js";import{N as Q,$ as K,am as rt,a0 as me,an as _e,ao as dt,ap as ye,G as L,aq as Re,a1 as j,S as se,n as a,ar as ct,as as He,at as re,I as qe,ae as mt,z as Z,au as vt,av as fe,J as pt,aw as ft,ax as be,ay as gt,az as Ve,aA as _t,aB as he,aC as xe,aD as yt,j as y,a2 as W,o as A,c as F,l as C,w as d,C as U,L as O,p as n,aE as bt,aF as Vt,aG as ht,aH as xt,aI as kt,Q as ze,aJ as wt,aK as Ct,aL as At,aM as St,aN as Pt,aO as $t,a4 as Tt,aP as Lt,aQ as Fe,H as ke,x as I,A as D,b as Y,F as le,a as J,al as oe,s as Ye,a9 as je,E,ag as ee,D as G,ad as We,aR as Ut,aS as Ft,aT as It,aU as Bt,aV as Dt,aW as Et,aX as Nt,aY as Mt,a7 as Ot,aZ as Rt,a_ as Ht,T as qt,a$ as zt,r as Ie,aa as ve}from"./main-b50d5463.js";import{a as Xe,b as Yt}from"./forwardRefs-147dc27a.js";import{V as S,a as jt}from"./VTextField-93f4669b.js";import{a as M,V as ie}from"./VRow-4cca22a4.js";import{c as Wt}from"./VAvatar-8d1777e9.js";import{V as Xt}from"./VSelect-0e8168f5.js";import{V as Ge}from"./VMenu-bec20866.js";import{V as Ze,a as Je,u as Gt}from"./VList-efbd3225.js";import{V as we,_ as Qe}from"./VSnackbar-bfdea7fe.js";import{V as Zt}from"./VDivider-43ab8d07.js";import{V as Be}from"./VBadge-a83ea2a3.js";import{d as Ke,a as Jt,b as Qt,V as Kt}from"./VCard-b32c692a.js";import{a as ea,V as Ce}from"./VPagination-5286fa5d.js";import"./transition-a497af79.js";import"./VImg-baea078e.js";import"./VCheckboxBtn-3b1c30a5.js";const ne=Symbol.for("vuetify:v-expansion-panel"),ta=["default","accordion","inset","popout"],aa=Q()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>ta.includes(e)},readonly:Boolean,...K(),...rt(),...me(),..._e()},emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:u}=c;dt(e,ne);const{themeClasses:s}=ye(e),i=L(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Re({VExpansionPanel:{color:j(e,"color")},VExpansionPanelTitle:{readonly:j(e,"readonly")}}),se(()=>a(e.tag,{class:["v-expansion-panels",s.value,i.value,e.class],style:e.style},u)),{}}}),et=vt({color:String,expandIcon:{type:fe,default:"$expand"},collapseIcon:{type:fe,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),te=Q()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:{...K(),...et()},setup(e,c){let{slots:u}=c;const s=He(ne);if(!s)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"color"),v=L(()=>({collapseIcon:e.collapseIcon,disabled:s.disabled.value,expanded:s.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return se(()=>{var g;return qe(a("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":s.isSelected.value},i.value,e.class],style:[t.value,e.style],type:"button",tabindex:s.disabled.value?-1:void 0,disabled:s.disabled.value,"aria-expanded":s.isSelected.value,onClick:e.readonly?void 0:s.toggle},[a("span",{class:"v-expansion-panel-title__overlay"},null),(g=u.default)==null?void 0:g.call(u,v.value),!e.hideActions&&a("span",{class:"v-expansion-panel-title__icon"},[u.actions?u.actions(v.value):a(Z,{icon:s.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[mt("ripple"),e.ripple]])}),{}}}),ae=Q()({name:"VExpansionPanelText",props:{...K(),...Xe()},setup(e,c){let{slots:u}=c;const s=He(ne);if(!s)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:t}=Yt(e,s.isSelected);return se(()=>a(ft,{onAfterLeave:t},{default:()=>{var v;return[qe(a("div",{class:["v-expansion-panel-text",e.class],style:e.style},[u.default&&i.value&&a("div",{class:"v-expansion-panel-text__wrapper"},[(v=u.default)==null?void 0:v.call(u)])]),[[pt,s.isSelected.value]])]}})),{}}}),ue=Q()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...K(),...be(),...gt(),...Xe(),...Ve(),...me(),...et()},emits:{"group:selected":e=>!0},setup(e,c){let{slots:u}=c;const s=_t(e,ne),{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"bgColor"),{elevationClasses:v}=he(e),{roundedClasses:g}=xe(e),b=L(()=>(s==null?void 0:s.disabled.value)||e.disabled),f=L(()=>s.group.items.value.reduce((r,l,_)=>(s.group.selected.value.includes(l.id)&&r.push(_),r),[])),m=L(()=>{const r=s.group.items.value.findIndex(l=>l.id===s.id);return!s.isSelected.value&&f.value.some(l=>l-r===1)}),p=L(()=>{const r=s.group.items.value.findIndex(l=>l.id===s.id);return!s.isSelected.value&&f.value.some(l=>l-r===-1)});return yt(ne,s),se(()=>{const r=!!(u.text||e.text),l=!!(u.title||e.title);return a(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":s.isSelected.value,"v-expansion-panel--before-active":m.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":b.value},g.value,i.value,e.class],style:[t.value,e.style],"aria-expanded":s.isSelected.value},{default:()=>{var _;return[a("div",{class:["v-expansion-panel__shadow",...v.value]},null),l&&a(te,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[u.title?u.title():e.title]}),r&&a(ae,{key:"text",eager:e.eager},{default:()=>[u.text?u.text():e.text]}),(_=u.default)==null?void 0:_.call(u)]}})}),{}}}),la={class:"d-flex align-center justify-between mb-4"},na=C("span",{class:"mr-2"},"Filter",-1),tt={__name:"Filter",emits:["set-custom-filter"],setup(e,{emit:c}){const u=y([]),s=y([]),i=y([]),t=y(it),v=r=>r.map(l=>({value:l.id,title:l.name,parent:l.parent_id})),g=()=>{const r={id:-2,name:"Default",parent_id:null};N.get("/admin/progress-categories").then(l=>{const{data:_}=l.data;u.value=v([r,..._.categories]),s.value=v(_.sub_categories)}),N.get("/admin/campaigns/racenames").then(l=>{i.value=["All",...l.data.racenames],t.value.racename="All"})},b=L(()=>t.value.category==null?[]:s.value.filter(r=>r.parent==t.value.category)),f=L(()=>[pe,...u.value]),m=L(()=>(t.value.sub_category=pe.value,[pe,...b.value])),p=()=>{c("set-custom-filter",t.value)};return W(()=>{g()}),(r,l)=>{const _=ce,w=ge;return A(),F("div",null,[C("div",la,[na,a(O,{onClick:p},{default:d(()=>[U(" Apply ")]),_:1})]),a(aa,{multiple:""},{default:d(()=>[a(ue,null,{default:d(()=>[a(te,null,{default:d(()=>[U("Filter Basic: ")]),_:1}),a(ae,null,{default:d(()=>[a(_,{class:"mt-2",items:n(f),modelValue:n(t).category,"onUpdate:modelValue":l[0]||(l[0]=o=>n(t).category=o),variant:"outlined",label:"Progress Status"},null,8,["items","modelValue"]),a(_,{class:"mt-2",items:n(m),modelValue:n(t).sub_category,"onUpdate:modelValue":l[1]||(l[1]=o=>n(t).sub_category=o),variant:"outlined",label:"Sub Status"},null,8,["items","modelValue"]),a(w,{class:"mt-2",label:"Import Date",modelValue:n(t).importDate,"onUpdate:modelValue":l[2]||(l[2]=o=>n(t).importDate=o)},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).productgroup,"onUpdate:modelValue":l[3]||(l[3]=o=>n(t).productgroup=o),label:"Product Group"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).productname,"onUpdate:modelValue":l[4]||(l[4]=o=>n(t).productname=o),label:"Product Name"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:d(()=>[a(te,null,{default:d(()=>[U("Filter Applicant: ")]),_:1}),a(ae,null,{default:d(()=>[a(S,{class:"mt-2",modelValue:n(t).applicanttypename,"onUpdate:modelValue":l[5]||(l[5]=o=>n(t).applicanttypename=o),label:"Applicant Type Name"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantcompany,"onUpdate:modelValue":l[6]||(l[6]=o=>n(t).applicantcompany=o),label:"Applicant Company"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantbusinessregistrationnumber,"onUpdate:modelValue":l[7]||(l[7]=o=>n(t).applicantbusinessregistrationnumber=o),label:"Application Business Registration Number"},null,8,["modelValue"]),a(_,{class:"mt-2",items:n(i),modelValue:n(t).racename,"onUpdate:modelValue":l[8]||(l[8]=o=>n(t).racename=o),variant:"outlined",label:"Racename"},null,8,["items","modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantname,"onUpdate:modelValue":l[9]||(l[9]=o=>n(t).applicantname=o),label:"Applicant Name"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantidentity,"onUpdate:modelValue":l[10]||(l[10]=o=>n(t).applicantidentity=o),label:"Applicant Identity"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantmobile,"onUpdate:modelValue":l[11]||(l[11]=o=>n(t).applicantmobile=o),label:"Applicant Mobile"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantfax,"onUpdate:modelValue":l[12]||(l[12]=o=>n(t).applicantfax=o),label:"Applicant Fax"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantaddress1,"onUpdate:modelValue":l[13]||(l[13]=o=>n(t).applicantaddress1=o),label:"Applicant Address1"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantaddress2,"onUpdate:modelValue":l[14]||(l[14]=o=>n(t).applicantaddress2=o),label:"Applicant Address2"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantaddress3,"onUpdate:modelValue":l[15]||(l[15]=o=>n(t).applicantaddress3=o),label:"Applicant Address3"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantpostcode,"onUpdate:modelValue":l[16]||(l[16]=o=>n(t).applicantpostcode=o),label:"Applicant Postcode"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantcity,"onUpdate:modelValue":l[17]||(l[17]=o=>n(t).applicantcity=o),label:"Applicant City"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantstate,"onUpdate:modelValue":l[18]||(l[18]=o=>n(t).applicantstate=o),label:"Applicant State"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).applicantemail,"onUpdate:modelValue":l[19]||(l[19]=o=>n(t).applicantemail=o),label:"Applicant Email"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:d(()=>[a(te,null,{default:d(()=>[U("Filter Instanllation: ")]),_:1}),a(ae,null,{default:d(()=>[a(S,{class:"mt-2",modelValue:n(t).installationaddress1,"onUpdate:modelValue":l[20]||(l[20]=o=>n(t).installationaddress1=o),label:"Installation Address1"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationaddress2,"onUpdate:modelValue":l[21]||(l[21]=o=>n(t).installationaddress2=o),label:"Installation Address2"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationaddress3,"onUpdate:modelValue":l[22]||(l[22]=o=>n(t).installationaddress3=o),label:"Installation Address3"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationpostcode,"onUpdate:modelValue":l[23]||(l[23]=o=>n(t).installationpostcode=o),label:"Installation Postcode"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationcity,"onUpdate:modelValue":l[24]||(l[24]=o=>n(t).installationcity=o),label:"Installation City"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationstate,"onUpdate:modelValue":l[25]||(l[25]=o=>n(t).installationstate=o),label:"Installation State"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationpropertytype,"onUpdate:modelValue":l[26]||(l[26]=o=>n(t).installationpropertytype=o),label:"Installation Property Type"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationcontactperson,"onUpdate:modelValue":l[27]||(l[27]=o=>n(t).installationcontactperson=o),label:"Installation Contact Person"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).installationcontactnumber,"onUpdate:modelValue":l[28]||(l[28]=o=>n(t).installationcontactnumber=o),label:"Installation Contact Number"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:d(()=>[a(te,null,{default:d(()=>[U("Filter Billing: ")]),_:1}),a(ae,null,{default:d(()=>[a(S,{class:"mt-2",modelValue:n(t).billingaddress1,"onUpdate:modelValue":l[29]||(l[29]=o=>n(t).billingaddress1=o),label:"Billing Address1"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).billingaddress2,"onUpdate:modelValue":l[30]||(l[30]=o=>n(t).billingaddress2=o),label:"Billing Address2"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).billingaddress3,"onUpdate:modelValue":l[31]||(l[31]=o=>n(t).billingaddress3=o),label:"Billing Address3"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).billingpostcode,"onUpdate:modelValue":l[32]||(l[32]=o=>n(t).billingpostcode=o),label:"Billing Postcode"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).billingcity,"onUpdate:modelValue":l[33]||(l[33]=o=>n(t).billingcity=o),label:"Billing City"},null,8,["modelValue"]),a(S,{class:"mt-2",modelValue:n(t).billingstate,"onUpdate:modelValue":l[34]||(l[34]=o=>n(t).billingstate=o),label:"Billing State"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}};const sa=Wt("v-alert-title"),oa=["success","info","warning","error"],de=Q()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:fe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>oa.includes(e)},...K(),...bt(),...Vt(),...be(),...ht(),...xt(),...Ve(),...me(),..._e(),...kt({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{emit:u,slots:s}=c;const i=ze(e,"modelValue"),t=L(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),v=L(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:g}=ye(e),{colorClasses:b,colorStyles:f,variantClasses:m}=wt(v),{densityClasses:p}=Ct(e),{dimensionStyles:r}=At(e),{elevationClasses:l}=he(e),{locationStyles:_}=St(e),{positionClasses:w}=Pt(e),{roundedClasses:o}=xe(e),{textColorClasses:V,textColorStyles:$}=$t(j(e,"borderColor")),{t:h}=Tt(),P=L(()=>({"aria-label":h(e.closeLabel),onClick(x){i.value=!1,u("click:close",x)}}));return()=>{const x=!!(s.prepend||t.value),k=!!(s.title||e.title),T=!!(e.text||s.text),B=!!(s.close||e.closable);return i.value&&a(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},g.value,b.value,p.value,l.value,w.value,o.value,m.value,e.class],style:[f.value,r.value,_.value,e.style],role:"alert"},{default:()=>{var R,H;return[Lt(!1,"v-alert"),e.border&&a("div",{key:"border",class:["v-alert__border",V.value],style:$.value},null),x&&a("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?a(Fe,{key:"prepend-defaults",disabled:!t.value,defaults:{VIcon:{density:e.density,icon:t.value,size:e.prominent?44:28}}},s.prepend):a(Z,{key:"prepend-icon",density:e.density,icon:t.value,size:e.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[k&&a(sa,{key:"title"},{default:()=>{var q;return[((q=s.title)==null?void 0:q.call(s))??e.title]}}),T&&(((R=s.text)==null?void 0:R.call(s))??e.text),(H=s.default)==null?void 0:H.call(s)]),s.append&&a("div",{key:"append",class:"v-alert__append"},[s.append()]),B&&a("div",{key:"close",class:"v-alert__close"},[s.close?a(Fe,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var q;return[(q=s.close)==null?void 0:q.call(s,{props:P.value})]}}):a(O,ke({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},P.value),null)])]}})}}}),ia=C("div",{class:"v-card-title"},"Manual Assign 2",-1),ua={class:"mx-2"},ra={key:0,class:"text-right",style:{color:"rgb(var(--v-theme-error))"}},da={__name:"ManualAssign2",setup(e){const c=y("result: 2"),u=y("FOLLOWUP = 2"),s=()=>{};return(i,t)=>(A(),F("div",null,[ia,a(ie,{class:"my-4"},{default:d(()=>[a(M,{cols:"12",md:"3"},{default:d(()=>[a(tt)]),_:1}),a(M,{cols:"12",md:"6"},{default:d(()=>[C("div",ua,[a(de,{variant:"outlined",color:"error"},{default:d(()=>[U(" Note: This action will replace on assigned data, if data assigned, and each time will limit 200 result ")]),_:1}),a(Xt,{class:"mt-4",items:i.users,variant:"outlined",label:"Assign Data To"},null,8,["items"]),a(S,{class:"mt-4",label:"Assign Limit"}),n(c).length>0?(A(),F("div",ra,I(n(c)),1)):D("",!0),a(O,{class:"mt-4",onClick:s},{default:d(()=>[U(" Assign ")]),_:1})])]),_:1}),a(M,{cols:"12",md:"3"},{default:d(()=>[n(u).length>0?(A(),Y(de,{key:0,variant:"outlined",color:"error"},{default:d(()=>[U(I(n(u)),1)]),_:1})):D("",!0)]),_:1})]),_:1})]))}},De={__name:"ActionButton",props:{menuList:{type:Array,required:!1},menuTitle:{type:String,required:!0},itemProps:{type:Boolean,required:!1}},emits:["update-action"],setup(e,{emit:c}){const u=e,s=i=>{c("update-action",i)};return(i,t)=>(A(),Y(O,{color:"primary",rounded:"pill"},{default:d(()=>[C("span",null,I(e.menuTitle),1),a(Z,{icon:"tabler-chevron-down"}),u.menuList?(A(),Y(Ge,{key:0,activator:"parent"},{default:d(()=>[a(Ze,null,{default:d(()=>[(A(!0),F(le,null,J(u.menuList,(v,g)=>(A(),Y(Je,{onClick:b=>s(v.value)},{default:d(()=>[U(I(v.title),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})):D("",!0)]),_:1}))}};const ca=C("div",{class:"v-card-title"},"Blocking",-1),ma={class:"mt-2"},va=C("div",{class:"d-flex align-center mt-4"},[C("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Name "),C("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Status ")],-1),pa={key:0},fa={class:"mt-6 d-flex justify-center"},ga={__name:"Blocking",setup(e){const c=y([{id:1952,name:"NICOLE"},{id:1953,name:"JENNY"},{id:1954,name:"SOPHIE"}]),u=["Allow","Block"];return(s,i)=>(A(),F("div",null,[ca,C("div",ma,[a(ie,null,{default:d(()=>[a(M,{cols:"12",md:"4"}),a(M,{cols:"12",md:"4"},{default:d(()=>[va,(A(!0),F(le,null,J(n(c),(t,v)=>(A(),F("div",{key:v,class:"d-flex align-center mt-4"},[a(jt,{for:s.elementId,class:"text-high-emphasis fixed-label",text:`(${t.id}) ${t.name}`},null,8,["for","text"]),a(ce,{items:u})]))),128)),n(c).length==0?(A(),F("div",pa," There are no agents. ")):D("",!0),C("div",fa,[a(O,null,{default:d(()=>[U(" Apply ")]),_:1})])]),_:1}),a(M,{cols:"12",md:"4"})]),_:1})])]))}},_a=C("div",{class:"v-card-title"},"Auto Assign",-1),ya=C("div",{class:"mt-4 font-weight-bold"},[C("small",null,"Assigned Count")],-1),ba={class:"text-right"},Va={class:"font-weight-bold"},ha={__name:"AutoAssign",emits:["update-action"],setup(e,{emit:c}){const u=y(0),s=y(0),i=y(0),t=oe();Ye();const v=parseInt(t.params.id),g=y(""),b=L(()=>g.value.length>0),f=["Normal","Random"],m=y([]),p=y(null),r=y("Normal"),l=y(0),_=()=>{const $=p.value,h=r.value,P=l.value;if($==null||$==""){g.value="Please select a team leader";return}if(h==null||h==""){g.value="Please select a assign method";return}if(P==0){g.value="Amount must not be 0";return}if(P>u.value){g.value="amount must be less than or equal to available count";return}const x={leader:$,method:h,amount:P};N.post(`/admin/campaigns/${v}/assign`,x).then(k=>{o()})},w=()=>{const $=Me()?"/users/leaders":"/users/agents";N.get($).then(h=>{const{leaders:P}=h.data;m.value=P.map(x=>({value:x.id,title:x.username}))})},o=()=>{N.get(`/admin/campaigns/${v}/count-unassigned`).then($=>{const{unassigned_count:h,total_count:P}=$.data;u.value=h,s.value=P,P!=0&&(i.value=100-h*100/P)})},V=()=>{c("update-action","list")};return W(()=>{w(),o()}),($,h)=>{const P=ce,x=Qe;return A(),F("div",null,[_a,a(ie,{class:"my-4"},{default:d(()=>[a(M,{cols:"12",md:"3"}),a(M,{cols:"12",md:"6"},{default:d(()=>[a(de,{class:"mt-4",variant:"outlined",color:"error"},{default:d(()=>[U(" Note: This will apply on unassigned data ")]),_:1}),ya,a(je,{color:"primary",modelValue:n(i),"onUpdate:modelValue":h[0]||(h[0]=k=>E(i)?i.value=k:null),striped:""},null,8,["modelValue"]),C("div",ba,[C("small",Va,"unassigned "+I(n(u)),1),C("small",null," / total "+I(n(s)),1)]),a(P,{class:"mt-4",items:n(m),modelValue:n(p),"onUpdate:modelValue":h[1]||(h[1]=k=>E(p)?p.value=k:null),label:"Assign Data To"},null,8,["items","modelValue"]),a(P,{class:"mt-4",items:f,modelValue:n(r),"onUpdate:modelValue":h[2]||(h[2]=k=>E(r)?r.value=k:null),label:"Method"},null,8,["modelValue"]),a(x,{class:"mt-4",label:"Amount",type:"number",modelValue:n(l),"onUpdate:modelValue":h[3]||(h[3]=k=>E(l)?l.value=k:null)},null,8,["modelValue"]),a(O,{class:"mr-4 my-4",color:"error",onClick:V},{default:d(()=>[U(" Back to Main ")]),_:1}),a(O,{class:"my-4",onClick:_},{default:d(()=>[U(" Assign ")]),_:1})]),_:1}),a(M,{cols:"12",md:"3"}),a(we,{modelValue:n(b),"onUpdate:modelValue":h[4]||(h[4]=k=>E(b)?b.value=k:null),timeout:1e3,location:"top end",color:"error"},{default:d(()=>[U(I(n(g)),1)]),_:1},8,["modelValue"])]),_:1})])}}},xa=C("div",{class:"v-card-title"},"Manual Assign",-1),ka={class:"mx-2"},wa=C("h4",{class:"mt-6"},"Assigned Count",-1),Ca={class:"text-right"},Aa={class:"font-weight-bold"},Sa={class:"text-right"},Pa={__name:"ManualAssign",setup(e){const c=y(0),u=y(0),s=y(0),i=y(),t=y([]),v=y(),g=y(),b=y(""),f=L(()=>b.value.length>0),m=()=>{const o=Me()?"/users/leaders":"/users/agents";N.get(o).then(V=>{const{leaders:$}=V.data;t.value=$.map(h=>({value:h.id,title:h.username}))})},p=()=>{const o=v.value,V=g.value;if(o==null||o==""){b.value="Please select a team leader";return}if(V==0){b.value="Amount must not be 0";return}if(V>c.value){b.value="amount must be less than or equal to available count";return}const $={leader:o,method:"Random",amount:V,...i.value};N.post(`/admin/campaigns/${w}/assign-filter`,$).then(h=>{l(i.value)})},r=o=>{l({...o}),i.value=o},l=o=>{N.get(`/admin/campaigns/${w}/count-unassigned-filter`,{params:o}).then(V=>{const{unassigned_count:$,total_count:h}=V.data;c.value=$,u.value=h,h!=0&&(s.value=100-$*100/h)})},_=oe(),w=parseInt(_.params.id);return W(()=>{m(),l({})}),(o,V)=>{const $=ce;return A(),F("div",null,[xa,a(ie,{class:"my-4"},{default:d(()=>[a(M,{cols:"12",md:"4"},{default:d(()=>[a(tt,{onSetCustomFilter:r})]),_:1}),a(M,{cols:"12",md:"8"},{default:d(()=>[C("div",ka,[a(de,{variant:"outlined",color:"error"},{default:d(()=>[U(" Note: This action will replace on assigned data ")]),_:1}),wa,a(je,{color:"primary",class:"mt-2",modelValue:n(s),"onUpdate:modelValue":V[0]||(V[0]=h=>E(s)?s.value=h:null),striped:""},null,8,["modelValue"]),C("div",Ca,[C("small",Aa,"unassigned "+I(n(c)),1),C("small",null," / total "+I(n(u)),1)]),a($,{class:"mt-4",items:n(t),modelValue:n(v),"onUpdate:modelValue":V[1]||(V[1]=h=>E(v)?v.value=h:null),variant:"outlined",label:"Assign Data To"},null,8,["items","modelValue"]),a(S,{class:"mt-4",modelValue:n(g),"onUpdate:modelValue":V[2]||(V[2]=h=>E(g)?g.value=h:null),label:"Assign Limit"},null,8,["modelValue"]),C("div",Sa,[a(O,{class:"mt-4",onClick:p},{default:d(()=>[U(" Assign ")]),_:1})])])]),_:1})]),_:1}),a(we,{modelValue:n(f),"onUpdate:modelValue":V[3]||(V[3]=h=>E(f)?f.value=h:null),timeout:1e3,location:"top end",color:"error"},{default:d(()=>[U(I(n(b)),1)]),_:1},8,["modelValue"])])}}};function $a(e){let{rootEl:c,isSticky:u,layoutItemStyles:s}=e;const i=y(!1),t=y(0),v=L(()=>{const f=typeof i.value=="boolean"?"top":i.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[f]:ee(t.value)}:{top:s.value.top}]});W(()=>{G(u,f=>{f?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),We(()=>{document.removeEventListener("scroll",b)});let g=0;function b(){const f=g>window.scrollY?"up":"down",m=c.value.getBoundingClientRect(),p=parseFloat(s.value.top??0),r=window.scrollY-Math.max(0,t.value-p),l=m.height+Math.max(t.value,p)-window.scrollY-window.innerHeight;m.height<window.innerHeight-p?(i.value="top",t.value=p):f==="up"&&i.value==="bottom"||f==="down"&&i.value==="top"?(t.value=window.scrollY+m.top,i.value=!0):f==="down"&&l<=0?(t.value=0,i.value="bottom"):f==="up"&&r<=0&&(t.value=m.top+r,i.value="top"),g=window.scrollY}return{isStuck:i,stickyStyles:v}}const Ta=100,La=20;function Ee(e){const c=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*c}function Ne(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let c=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const s=Ee(c),i=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);c+=(i-s)*Math.abs(i),u===e.length-1&&(c*=.5)}return Ee(c)*1e3}function Ua(){const e={};function c(i){Array.from(i.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Ut(La))).push([i.timeStamp,t])})}function u(i){Array.from(i.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(i){var f;const t=(f=e[i])==null?void 0:f.values().reverse();if(!t)throw new Error(`No samples for touch id ${i}`);const v=t[0],g=[],b=[];for(const m of t){if(v[0]-m[0]>Ta)break;g.push({t:m[0],d:m[1].clientX}),b.push({t:m[0],d:m[1].clientY})}return{x:Ne(g),y:Ne(b),get direction(){const{x:m,y:p}=this,[r,l]=[Math.abs(m),Math.abs(p)];return r>l&&m>=0?"right":r>l&&m<=0?"left":l>r&&p>=0?"down":l>r&&p<=0?"up":Fa()}}}return{addMovement:c,endTouch:u,getVelocity:s}}function Fa(){throw new Error}function Ia(e){let{isActive:c,isTemporary:u,width:s,touchless:i,position:t}=e;W(()=>{window.addEventListener("touchstart",V,{passive:!0}),window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",h,{passive:!0})}),We(()=>{window.removeEventListener("touchstart",V),window.removeEventListener("touchmove",$),window.removeEventListener("touchend",h)});const v=L(()=>["left","right"].includes(t.value)),{addMovement:g,endTouch:b,getVelocity:f}=Ua();let m=!1;const p=y(!1),r=y(0),l=y(0);let _;function w(x,k){return(t.value==="left"?x:t.value==="right"?document.documentElement.clientWidth-x:t.value==="top"?x:t.value==="bottom"?document.documentElement.clientHeight-x:X())-(k?s.value:0)}function o(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const T=t.value==="left"?(x-l.value)/s.value:t.value==="right"?(document.documentElement.clientWidth-x-l.value)/s.value:t.value==="top"?(x-l.value)/s.value:t.value==="bottom"?(document.documentElement.clientHeight-x-l.value)/s.value:X();return k?Math.max(0,Math.min(1,T)):T}function V(x){if(i.value)return;const k=x.changedTouches[0].clientX,T=x.changedTouches[0].clientY,B=25,R=t.value==="left"?k<B:t.value==="right"?k>document.documentElement.clientWidth-B:t.value==="top"?T<B:t.value==="bottom"?T>document.documentElement.clientHeight-B:X(),H=c.value&&(t.value==="left"?k<s.value:t.value==="right"?k>document.documentElement.clientWidth-s.value:t.value==="top"?T<s.value:t.value==="bottom"?T>document.documentElement.clientHeight-s.value:X());(R||H||c.value&&u.value)&&(m=!0,_=[k,T],l.value=w(v.value?k:T,c.value),r.value=o(v.value?k:T),b(x),g(x))}function $(x){const k=x.changedTouches[0].clientX,T=x.changedTouches[0].clientY;if(m){if(!x.cancelable){m=!1;return}const R=Math.abs(k-_[0]),H=Math.abs(T-_[1]);(v.value?R>H&&R>3:H>R&&H>3)?(p.value=!0,m=!1):(v.value?H:R)>3&&(m=!1)}if(!p.value)return;x.preventDefault(),g(x);const B=o(v.value?k:T,!1);r.value=Math.max(0,Math.min(1,B)),B>1?l.value=w(v.value?k:T,!0):B<0&&(l.value=w(v.value?k:T,!1))}function h(x){if(m=!1,!p.value)return;g(x),p.value=!1;const k=f(x.changedTouches[0].identifier),T=Math.abs(k.x),B=Math.abs(k.y);(v.value?T>B&&T>400:B>T&&B>3)?c.value=k.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||X()):c.value=r.value>.5}const P=L(()=>p.value?{transform:t.value==="left"?`translateX(calc(-100% + ${r.value*s.value}px))`:t.value==="right"?`translateX(calc(100% - ${r.value*s.value}px))`:t.value==="top"?`translateY(calc(-100% + ${r.value*s.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${r.value*s.value}px))`:X(),transition:"none"}:void 0);return{isDragging:p,dragProgress:r,dragStyles:P}}function X(){throw new Error}const Ba=["start","end","left","right","top","bottom"],Da=Q()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ba.includes(e)},sticky:Boolean,...Ft(),...K(),...be(),...It(),...Ve(),...me({tag:"nav"}),..._e()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,c){let{attrs:u,emit:s,slots:i}=c;const{isRtl:t}=Bt(),{themeClasses:v}=ye(e),{borderClasses:g}=Dt(e),{backgroundColorClasses:b,backgroundColorStyles:f}=re(j(e,"color")),{elevationClasses:m}=he(e),{mobile:p}=Et(),{roundedClasses:r}=xe(e),l=Nt(),_=ze(e,"modelValue",null,z=>!!z),{ssrBootStyles:w}=Gt(),o=y(),V=y(!1),$=L(()=>e.rail&&e.expandOnHover&&V.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),h=L(()=>Mt(e.location,t.value)),P=L(()=>!e.permanent&&(p.value||e.temporary)),x=L(()=>e.sticky&&!P.value&&h.value!=="bottom");e.expandOnHover&&e.rail!=null&&G(V,z=>s("update:rail",!z)),e.disableResizeWatcher||G(P,z=>!e.permanent&&Ot(()=>_.value=!z)),!e.disableRouteWatcher&&l&&G(l.currentRoute,()=>P.value&&(_.value=!1)),G(()=>e.permanent,z=>{z&&(_.value=!0)}),Rt(()=>{e.modelValue!=null||P.value||(_.value=e.permanent||!p.value)});const{isDragging:k,dragProgress:T,dragStyles:B}=Ia({isActive:_,isTemporary:P,width:$,touchless:j(e,"touchless"),position:h}),R=L(()=>{const z=P.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):$.value;return k.value?z*T.value:z}),{layoutItemStyles:H,layoutRect:q,layoutItemScrimStyles:at}=Ht({id:e.name,order:L(()=>parseInt(e.order,10)),position:h,layoutSize:R,elementSize:$,active:L(()=>_.value||k.value),disableTransitions:L(()=>k.value),absolute:L(()=>e.absolute||x.value&&typeof Ae.value!="string")}),{isStuck:Ae,stickyStyles:lt}=$a({rootEl:o,isSticky:x,layoutItemStyles:H}),Se=re(L(()=>typeof e.scrim=="string"?e.scrim:null)),nt=L(()=>({...k.value?{opacity:T.value*.2,transition:"none"}:void 0,...q.value?{left:ee(q.value.left),right:ee(q.value.right),top:ee(q.value.top),bottom:ee(q.value.bottom)}:void 0,...at.value}));Re({VList:{bgColor:"transparent"}});function st(){V.value=!0}function ot(){V.value=!1}return se(()=>{const z=i.image||e.image;return a(le,null,[a(e.tag,ke({ref:o,onMouseenter:st,onMouseleave:ot,class:["v-navigation-drawer",`v-navigation-drawer--${h.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":V.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":P.value,"v-navigation-drawer--active":_.value,"v-navigation-drawer--sticky":x.value},v.value,b.value,g.value,m.value,r.value,e.class],style:[f.value,H.value,B.value,w.value,lt.value,e.style]},u),{default:()=>{var Pe,$e,Te,Le;return[z&&a("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(Pe=i.image)==null?void 0:Pe.call(i,{image:e.image}):a("img",{src:e.image,alt:""},null)]),i.prepend&&a("div",{class:"v-navigation-drawer__prepend"},[($e=i.prepend)==null?void 0:$e.call(i)]),a("div",{class:"v-navigation-drawer__content"},[(Te=i.default)==null?void 0:Te.call(i)]),i.append&&a("div",{class:"v-navigation-drawer__append"},[(Le=i.append)==null?void 0:Le.call(i)])]}}),a(qt,{name:"fade-transition"},{default:()=>[P.value&&(k.value||_.value)&&!!e.scrim&&a("div",{class:["v-navigation-drawer__scrim",Se.backgroundColorClasses.value],style:[nt.value,Se.backgroundColorStyles.value],onClick:()=>_.value=!1},null)]})])}),{isStuck:Ae}}}),Ea={class:"customizer-heading d-flex align-center justify-space-between"},Na=C("div",null,[C("h6",{class:"text-h6"}," Custom Filter "),C("span",{class:"text-body-1"},"Customize fields for Filter")],-1),Ma={class:"mx-6 pt-4"},Oa={class:"mt-2 d-flex align-end justify-start"},Ra={__name:"CustomFilter",props:{isNavDrawerOpen:{type:Boolean,required:!0}},emits:["close-custom-filter"],setup(e,{emit:c}){const u=e,s=L(()=>i.value.length>0),i=y(""),t=y(""),v=()=>{t.value=""},g=y({applicantname:"",applicantidentity:""}),b=zt(u,"isNavDrawerOpen"),f=()=>{const p=g.value,r=t.value;let l=null,_=null;r&&r.length>0&&([l,_]=r.split(" to "),_||(_=l)),c("apply-custom-filter",{applicantname:p.applicantname.trim(),applicantidentity:p.applicantidentity.trim(),start_date:l,end_date:_})},m=()=>{c("close-custom-filter")};return(p,r)=>{const l=Ie("IconBtn"),_=ge,w=Qe,o=Ie("PerfectScrollbar");return A(),F("div",null,[a(Da,{modelValue:n(b),"onUpdate:modelValue":r[3]||(r[3]=V=>E(b)?b.value=V:null),temporary:"",border:"0",location:"end",width:"400",scrim:!1,class:"app-customizer"},{default:d(()=>[C("div",Ea,[Na,a(l,{onClick:m},{default:d(()=>[a(Z,{icon:"tabler-x",size:"20"})]),_:1})]),a(Zt),a(o,{tag:"ul",options:{wheelPropagation:!1}},{default:d(()=>[C("div",Ma,[C("div",Oa,[a(_,{modelValue:n(t),"onUpdate:modelValue":r[0]||(r[0]=V=>E(t)?t.value=V:null),label:"Period",config:{mode:"range"}},null,8,["modelValue"]),a(l,{class:"mr-4",color:"primary",disabled:!n(t)||n(t)=="",onClick:v},{default:d(()=>[a(Z,{icon:"tabler-eraser"})]),_:1},8,["disabled"])]),a(w,{class:"mt-2",modelValue:n(g).applicantname,"onUpdate:modelValue":r[1]||(r[1]=V=>n(g).applicantname=V),label:"Applicant Name"},null,8,["modelValue"]),a(w,{class:"mt-2",modelValue:n(g).applicantidentity,"onUpdate:modelValue":r[2]||(r[2]=V=>n(g).applicantidentity=V),label:"Applicant Identity"},null,8,["modelValue"]),a(O,{block:"",class:"mt-4",onClick:f},{default:d(()=>[U(" Apply Custom Filter ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),a(we,{modelValue:n(s),"onUpdate:modelValue":r[4]||(r[4]=V=>E(s)?s.value=V:null),timeout:1e3,location:"top end",color:"error"},{default:d(()=>[U(I(n(i)),1)]),_:1},8,["modelValue"])])}}};const Ha={class:"filter-tabs"},qa=C("div",{class:"d-flex w-full"},[C("small",null,"Filter: ")],-1),za={class:"mb-2"},Ya={__name:"FilterTabs",props:{filterList:{type:Object,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},is_custom:{type:String,required:!1}},emits:["set-filter","set-custom-filter"],setup(e,{emit:c}){const u=e,s=j(u,"status");j(u,"sub_status");const i=j(u,"is_custom"),t="submission",v=(f,m)=>{c("set-filter",{status:f,sub_status:m})},g=()=>{c("set-custom-filter")},b=f=>{f=="Default"?v("Default",""):f==t&&v(t,t)};return(f,m)=>(A(),F("div",Ha,[qa,C("div",za,[(A(!0),F(le,null,J(u.filterList,(p,r)=>(A(),Y(Ge,{key:r},{activator:d(({props:l})=>[p.items.All>0?(A(),Y(O,ke({key:0,variant:"text",color:!n(i)&&p.key.toLowerCase()==n(s).toLowerCase()?"primary":"black",onClick:_=>b(p.key)},l),{default:d(()=>[a(Be,{class:"custom__badge mr-4",content:p.items.All,"offset-x":-8,"offset-y":-8},{default:d(()=>[U(I(p.key),1)]),_:2},1032,["content"]),Object.keys(p.items).length>1?(A(),Y(Z,{key:0,icon:"tabler-chevron-down"})):D("",!0)]),_:2},1040,["color","onClick"])):D("",!0)]),default:d(()=>[Object.keys(p.items).length>1?(A(),Y(Ze,{key:0},{default:d(()=>[(A(!0),F(le,null,J(p.items,(l,_)=>(A(),Y(Je,{key:_,onClick:w=>v(p.key,_)},{default:d(()=>[a(Be,{class:"custom__badge",content:l,"offset-x":-18,"offset-y":6},{default:d(()=>[U(I(_),1)]),_:2},1032,["content"])]),_:2},1032,["onClick"]))),128))]),_:2},1024)):D("",!0)]),_:2},1024))),128)),a(O,{class:"ml-2",variant:"outlined",color:n(i)?"primary":"black",onClick:g},{default:d(()=>[U(" Custom Filter ")]),_:1},8,["color"])])]))}},ja={__name:"FilteredList",props:{showSelect:{type:Boolean,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},custom_filter:{type:Object,required:!1},campaign_id:{type:Number,required:!0},is_custom:{type:Boolean,required:!0}},setup(e){const c=e,u=Ye(),s=y(!1),i=y(ut),t=y(0),v=j(c,"status"),g=j(c,"sub_status"),b=j(c,"is_custom"),f=y([]),m=Oe(),p=m?Ue.campaignDetail:Ue.campaignDetail.filter(_=>_.key!="assigned_leader"&&_.key!="assigned_agent"),r=(_,w)=>{u.push(`/campaign-detail/${w.item.raw.id}`)},l=async()=>{s.value=!0;const _={status:v.value,sub_status:g.value,...c.custom_filter};N.post(`/admin/campaigns/${c.campaign_id}/list?page=${i.value.page}&itemsPerPage=${i.value.itemsPerPage}`,_).then(w=>{const{total:o,list:V}=w.data;f.value=V,t.value=Math.ceil(o/i.value.itemsPerPage),s.value=!1}).catch(w=>{console.error("Error fetching data:",w),s.value=!1})};return G([()=>i.value.page,()=>i.value.itemsPerPage,v,g,b,()=>c.custom_filter],()=>{l()}),W(()=>{l()}),(_,w)=>(A(),Y(n(Ce),{headers:n(p),items:n(f),"items-per-page":n(i).itemsPerPage,loading:n(s),"onUpdate:options":w[2]||(w[2]=o=>i.value=o),"onClick:row":r},ve({bottom:d(()=>[a(Ke,{class:"mt-8"},{default:d(()=>[a(ie,null,{default:d(()=>[a(M,{lg:"2",cols:"3"},{default:d(()=>[a(S,{modelValue:n(i).itemsPerPage,"onUpdate:modelValue":w[0]||(w[0]=o=>n(i).itemsPerPage=o),label:"Rows per page:",type:"number",min:"-1",max:"15","hide-details":""},null,8,["modelValue"])]),_:1}),a(M,{lg:"10",cols:"9",class:"d-flex justify-end"},{default:d(()=>[a(ea,{modelValue:n(i).page,"onUpdate:modelValue":w[1]||(w[1]=o=>n(i).page=o),"total-visible":"5",length:n(t)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:2},[n(m)?{name:"item.assigned_leader",fn:d(({item:o})=>{var V;return[U(I((V=o.raw.leader)==null?void 0:V.name),1)]}),key:"0"}:void 0,n(m)?{name:"item.assigned_user",fn:d(({item:o})=>{var V;return[U(I((V=o.raw.agent)==null?void 0:V.name),1)]}),key:"1"}:void 0]),1032,["headers","items","items-per-page","loading"]))}},Wa={__name:"ListWithFilter",props:{campaign_id:{type:Number,required:!0}},setup(e){const c=e,u=y({}),s=y("Default"),i=y(""),t=y(!1),v=y(!1),g=y({}),b=l=>{N.get(`/admin/campaigns/${c.campaign_id}/filters`,{status:s.value,sub_status:i.value,...l}).then(_=>{const w=[],{counts_status:o,counts_substatus:V}=_.data;let $,h;for(var P of o){const x=P.progressStatus==""?"Default":P.progressStatus,k={All:P.count};x=="Default"?P.count!=0&&($={key:x,items:k}):x=="submission"?P.count!=0&&(h={key:x,items:k}):(V.filter(T=>T.progressStatus==P.progressStatus).forEach(T=>{k[T.progressSubStatus]=T.count}),w.push({key:x,items:k}))}$&&w.unshift($),h&&w.push(h),u.value=w})},f=l=>{(s.value!=l.status||i.value!=l.sub_status)&&(s.value=l.status,i.value=l.sub_status,v.value=!1)},m=()=>{t.value=!0},p=()=>{t.value=!1},r=l=>{l.applicantname.length==0&&l.applicantidentity.length==0&&(!l.start_date||l.start_date.length==0)&&(!l.end_date||l.end_date.length==0)?(v.value=!1,g.value={}):(v.value=!0,g.value=l)};return W(()=>{b()}),(l,_)=>(A(),F("div",null,[Object.keys(n(u)).length>0?(A(),Y(Ya,{key:0,filterList:n(u),status:n(s),sub_status:n(i),is_custom:n(v),onSetCustomFilter:m,onSetFilter:f},null,8,["filterList","status","sub_status","is_custom"])):D("",!0),a(ja,{class:"mt-2",campaign_id:c.campaign_id,status:n(s),sub_status:n(i),is_custom:n(v),custom_filter:n(g)},null,8,["campaign_id","status","sub_status","is_custom","custom_filter"]),a(Ra,{isNavDrawerOpen:n(t),onCloseCustomFilter:p,onApplyCustomFilter:r},null,8,["isNavDrawerOpen"])]))}},Xa=C("div",{class:"v-card-title"},"Accumulated Data",-1),Ga={__name:"AccumulateList",setup(e){const c=y([]),u=y([]),s=y([]),t=oe().params.id,v=()=>{N.post(`/campaign-detail/${t}/lead-progress`).then(b=>{const{status:f,lead_progress:m}=b.data,p=[{key:"name",title:"Name"},{key:"total_leads",title:"Total Leads"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],r=[{key:"",title:"Fresh"}];for(const l of f)l!=""&&r.push({key:l,title:l});s.value=r,c.value=[...p,...r],u.value=m})},g=(b,f,m)=>f==0||b==0?0:m?`${(100*b/f).toFixed(2)}%`:`${b} (${(100*b/f).toFixed(2)}%)`;return W(()=>{v()}),(b,f)=>(A(),F("div",null,[Xa,a(n(Ce),{headers:n(c),items:n(u),itemsPerPage:50},ve({_:2},[J(n(s),m=>({name:`item.${m.key}`,fn:d(({item:p})=>[U(I(g(p.raw[m.key],p.raw.total_leads,p.raw.name=="Average")),1)])}))]),1032,["headers","items"])]))}};const Za=C("div",{class:"v-card-title"},"Filtered Accumulated Data",-1),Ja=C("div",{class:"d-flex mb-2 mx-4"},[C("small",null,"Filter: ")],-1),Qa={class:"d-flex mx-4 mb-4 align-center"},Ka={__name:"DateAccumulateList",setup(e){const c=y([]),u=y([]),s=y([]),t=oe().params.id,v=y(""),g=()=>{const f={};if(v.value!==""){let[m,p]=v.value.split(" to ");(!p||p=="")&&(p=m),f.start_date=m,f.end_date=p}else{const m=new Date().toISOString().substring(0,10);f.start_date=m,f.end_date=m}N.post(`/campaign-detail/${t}/lead-progress`,f).then(m=>{const{status:p,lead_progress:r}=m.data,l=[{key:"name",title:"Name"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],_=[];for(const w of p)_.push({key:w,title:w==""?"Fresh":w.toUpperCase()});s.value=_,c.value=[...l,..._],u.value=r})},b=()=>{g()};return W(()=>{g()}),(f,m)=>{const p=ge;return A(),F("div",null,[Za,Ja,C("div",Qa,[a(p,{class:"mr-4 date-picker",modelValue:n(v),"onUpdate:modelValue":m[0]||(m[0]=r=>E(v)?v.value=r:null),config:{mode:"range"}},null,8,["modelValue"]),a(O,{onClick:b},{default:d(()=>[U(" Apply ")]),_:1})]),a(n(Ce),{headers:n(c),items:n(u),itemsPerPage:50},ve({_:2},[J(n(s),r=>({name:`item.${r.key}`,fn:d(({item:l})=>[U(I(l.raw[r.key]),1)])}))]),1032,["headers","items"])])}}};const el={class:"d-flex align-end justify-end"},tl={key:0},al={key:1},ll={key:2},nl={key:3},sl={key:4},ol={key:5},il={key:6},Pl={__name:"[id]",setup(e){const c=[{title:"Auto Assign",value:"auto-assign"},{title:"Manual Assign",value:"manual-assign"}],u=[{title:"Accumulate",value:"accumulate"},{title:"Today",value:"today"}],s=oe(),i=parseInt(s.params.id),t=y("list"),v=y(0),g=f=>{t.value=f},b=()=>{N.get(`/campaign-detail/${i}/total-filtered-count`).then(f=>{const{total:m}=f.data;v.value=m})};return W(()=>{b()}),(f,m)=>{const p=da;return A(),F("div",null,[a(Kt,null,{default:d(()=>[a(Jt,null,ve({default:d(()=>[a(Qt,null,{default:d(()=>[U("Campaign Detail (Total: "+I(n(v))+")",1)]),_:1})]),_:2},[n(Oe)()?{name:"append",fn:d(()=>[C("div",el,[a(De,{class:"mr-2",menuTitle:"Assign",onUpdateAction:g,menuList:c}),a(De,{class:"mr-2",menuTitle:"Lead Progress",onUpdateAction:g,menuList:u}),a(O,{class:"mr-2",color:"success",rounded:"pill",onClick:m[0]||(m[0]=()=>g("list"))},{default:d(()=>[U(" Manage ")]),_:1})])]),key:"0"}:void 0]),1024),a(Ke,null,{default:d(()=>[n(t)=="auto-assign"?(A(),F("div",tl,[a(ha,{onUpdateAction:g})])):D("",!0),n(t)=="manual-assign"?(A(),F("div",al,[a(Pa,{onUpdateAction:g})])):D("",!0),n(t)=="manual-assign2"?(A(),F("div",ll,[a(p)])):D("",!0),n(t)=="list"?(A(),F("div",nl,[a(Wa,{campaign_id:n(i)},null,8,["campaign_id"])])):D("",!0),n(t)=="accumulate"?(A(),F("div",sl,[a(Ga)])):D("",!0),n(t)=="today"?(A(),F("div",ol,[a(Ka)])):D("",!0),n(t)=="blocking"?(A(),F("div",il,[a(ga)])):D("",!0)]),_:1})]),_:1})])}}};export{Pl as default};
