import{_ as fe}from"./AppDateTimePicker-1bffa6ed.js";import{_ as ce}from"./AppSelect-888d5a9e.js";import{m as st,n as ve,i as Ne,t as ot,f as it,a as ut}from"./auth-149aec28.js";import{a as z}from"./axios-ae36d123.js";import{N as Q,$ as K,am as rt,a0 as me,an as ge,ao as dt,ap as _e,G as L,aq as Me,a1 as j,S as se,n as l,ar as ct,as as Oe,at as re,I as Re,ae as mt,z as Z,au as vt,av as pe,J as pt,aw as ft,ax as ye,ay as gt,az as be,aA as _t,aB as Ve,aC as he,aD as yt,j as y,a2 as W,o as C,c as U,l as w,w as v,C as F,L as M,p as n,aE as bt,aF as Vt,aG as ht,aH as xt,aI as kt,Q as He,aJ as wt,aK as Ct,aL as At,aM as St,aN as Pt,aO as $t,a4 as Tt,aP as Lt,aQ as Fe,H as xe,x as E,A as B,b as Y,F as le,a as J,al as oe,s as qe,a9 as ze,E as D,ag as ee,D as G,ad as Ye,aR as Ft,aS as Ut,aT as It,aU as Bt,aV as Et,aW as Dt,aX as Nt,aY as Mt,a7 as Ot,aZ as Rt,a_ as Ht,T as qt,a$ as zt,r as Ue,aa as ke}from"./main-61484bfe.js";import{a as je,b as Yt}from"./forwardRefs-6ee72851.js";import{V as A,a as jt}from"./VTextField-a174cf70.js";import{a as N,V as ie}from"./VRow-44434673.js";import{c as Wt}from"./VAvatar-08392dd6.js";import{V as Xt}from"./VSelect-763f483b.js";import{V as We}from"./VMenu-d32181aa.js";import{V as Xe,a as Ge,u as Gt}from"./VList-3e5c49b3.js";import{V as we,_ as Ze}from"./VSnackbar-058c891d.js";import{V as Zt}from"./VDivider-792f6d40.js";import{V as Ie}from"./VBadge-70da9b1a.js";import{d as Je,a as Jt,b as Qt,V as Kt}from"./VCard-eed1f9ea.js";import{a as ea,V as Ce}from"./VPagination-b555d563.js";import"./transition-a33c81e5.js";import"./VImg-269a0fda.js";import"./VCheckboxBtn-7abc63b4.js";const ne=Symbol.for("vuetify:v-expansion-panel"),ta=["default","accordion","inset","popout"],aa=Q()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>ta.includes(e)},readonly:Boolean,...K(),...rt(),...me(),...ge()},emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:u}=m;dt(e,ne);const{themeClasses:s}=_e(e),i=L(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Me({VExpansionPanel:{color:j(e,"color")},VExpansionPanelTitle:{readonly:j(e,"readonly")}}),se(()=>l(e.tag,{class:["v-expansion-panels",s.value,i.value,e.class],style:e.style},u)),{}}}),Qe=vt({color:String,expandIcon:{type:pe,default:"$expand"},collapseIcon:{type:pe,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),te=Q()({name:"VExpansionPanelTitle",directives:{Ripple:ct},props:{...K(),...Qe()},setup(e,m){let{slots:u}=m;const s=Oe(ne);if(!s)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"color"),c=L(()=>({collapseIcon:e.collapseIcon,disabled:s.disabled.value,expanded:s.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return se(()=>{var g;return Re(l("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":s.isSelected.value},i.value,e.class],style:[t.value,e.style],type:"button",tabindex:s.disabled.value?-1:void 0,disabled:s.disabled.value,"aria-expanded":s.isSelected.value,onClick:e.readonly?void 0:s.toggle},[l("span",{class:"v-expansion-panel-title__overlay"},null),(g=u.default)==null?void 0:g.call(u,c.value),!e.hideActions&&l("span",{class:"v-expansion-panel-title__icon"},[u.actions?u.actions(c.value):l(Z,{icon:s.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[mt("ripple"),e.ripple]])}),{}}}),ae=Q()({name:"VExpansionPanelText",props:{...K(),...je()},setup(e,m){let{slots:u}=m;const s=Oe(ne);if(!s)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:t}=Yt(e,s.isSelected);return se(()=>l(ft,{onAfterLeave:t},{default:()=>{var c;return[Re(l("div",{class:["v-expansion-panel-text",e.class],style:e.style},[u.default&&i.value&&l("div",{class:"v-expansion-panel-text__wrapper"},[(c=u.default)==null?void 0:c.call(u)])]),[[pt,s.isSelected.value]])]}})),{}}}),ue=Q()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...K(),...ye(),...gt(),...je(),...be(),...me(),...Qe()},emits:{"group:selected":e=>!0},setup(e,m){let{slots:u}=m;const s=_t(e,ne),{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"bgColor"),{elevationClasses:c}=Ve(e),{roundedClasses:g}=he(e),b=L(()=>(s==null?void 0:s.disabled.value)||e.disabled),_=L(()=>s.group.items.value.reduce((r,a,f)=>(s.group.selected.value.includes(a.id)&&r.push(f),r),[])),p=L(()=>{const r=s.group.items.value.findIndex(a=>a.id===s.id);return!s.isSelected.value&&_.value.some(a=>a-r===1)}),d=L(()=>{const r=s.group.items.value.findIndex(a=>a.id===s.id);return!s.isSelected.value&&_.value.some(a=>a-r===-1)});return yt(ne,s),se(()=>{const r=!!(u.text||e.text),a=!!(u.title||e.title);return l(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":s.isSelected.value,"v-expansion-panel--before-active":p.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":b.value},g.value,i.value,e.class],style:[t.value,e.style],"aria-expanded":s.isSelected.value},{default:()=>{var f;return[l("div",{class:["v-expansion-panel__shadow",...c.value]},null),a&&l(te,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[u.title?u.title():e.title]}),r&&l(ae,{key:"text",eager:e.eager},{default:()=>[u.text?u.text():e.text]}),(f=u.default)==null?void 0:f.call(u)]}})}),{}}}),la={class:"d-flex align-center justify-between mb-4"},na=w("span",{class:"mr-2"},"Filter",-1),Ke={__name:"Filter",emits:["set-custom-filter"],setup(e,{emit:m}){const u=y([]),s=y([]),i=y([]),t=y(st),c=r=>r.map(a=>({value:a.id,title:a.name,parent:a.parent_id})),g=()=>{const r={id:-2,name:"Default",parent_id:null};z.get("/admin/progress-categories").then(a=>{const{data:f}=a.data;u.value=c([r,...f.categories]),s.value=c(f.sub_categories)}),z.get("/admin/campaigns/racenames").then(a=>{i.value=["All",...a.data.racenames],t.value.racename="All"})},b=L(()=>t.value.category==null?[]:s.value.filter(r=>r.parent==t.value.category)),_=L(()=>[ve,...u.value]),p=L(()=>(t.value.sub_category=ve.value,[ve,...b.value])),d=()=>{m("set-custom-filter",t.value)};return W(()=>{g()}),(r,a)=>{const f=ce,$=fe;return C(),U("div",null,[w("div",la,[na,l(M,{onClick:d},{default:v(()=>[F(" Apply ")]),_:1})]),l(aa,{multiple:""},{default:v(()=>[l(ue,null,{default:v(()=>[l(te,null,{default:v(()=>[F("Filter Basic: ")]),_:1}),l(ae,null,{default:v(()=>[l(f,{class:"mt-2",items:n(_),modelValue:n(t).category,"onUpdate:modelValue":a[0]||(a[0]=o=>n(t).category=o),variant:"outlined",label:"Progress Status"},null,8,["items","modelValue"]),l(f,{class:"mt-2",items:n(p),modelValue:n(t).sub_category,"onUpdate:modelValue":a[1]||(a[1]=o=>n(t).sub_category=o),variant:"outlined",label:"Sub Status"},null,8,["items","modelValue"]),l($,{class:"mt-2",label:"Import Date",modelValue:n(t).importDate,"onUpdate:modelValue":a[2]||(a[2]=o=>n(t).importDate=o)},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).productgroup,"onUpdate:modelValue":a[3]||(a[3]=o=>n(t).productgroup=o),label:"Product Group"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).productname,"onUpdate:modelValue":a[4]||(a[4]=o=>n(t).productname=o),label:"Product Name"},null,8,["modelValue"])]),_:1})]),_:1}),l(ue,null,{default:v(()=>[l(te,null,{default:v(()=>[F("Filter Applicant: ")]),_:1}),l(ae,null,{default:v(()=>[l(A,{class:"mt-2",modelValue:n(t).applicanttypename,"onUpdate:modelValue":a[5]||(a[5]=o=>n(t).applicanttypename=o),label:"Applicant Type Name"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantcompany,"onUpdate:modelValue":a[6]||(a[6]=o=>n(t).applicantcompany=o),label:"Applicant Company"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantbusinessregistrationnumber,"onUpdate:modelValue":a[7]||(a[7]=o=>n(t).applicantbusinessregistrationnumber=o),label:"Application Business Registration Number"},null,8,["modelValue"]),l(f,{class:"mt-2",items:n(i),modelValue:n(t).racename,"onUpdate:modelValue":a[8]||(a[8]=o=>n(t).racename=o),variant:"outlined",label:"Racename"},null,8,["items","modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantname,"onUpdate:modelValue":a[9]||(a[9]=o=>n(t).applicantname=o),label:"Applicant Name"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantidentity,"onUpdate:modelValue":a[10]||(a[10]=o=>n(t).applicantidentity=o),label:"Applicant Identity"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantmobile,"onUpdate:modelValue":a[11]||(a[11]=o=>n(t).applicantmobile=o),label:"Applicant Mobile"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantfax,"onUpdate:modelValue":a[12]||(a[12]=o=>n(t).applicantfax=o),label:"Applicant Fax"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantaddress1,"onUpdate:modelValue":a[13]||(a[13]=o=>n(t).applicantaddress1=o),label:"Applicant Address1"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantaddress2,"onUpdate:modelValue":a[14]||(a[14]=o=>n(t).applicantaddress2=o),label:"Applicant Address2"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantaddress3,"onUpdate:modelValue":a[15]||(a[15]=o=>n(t).applicantaddress3=o),label:"Applicant Address3"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantpostcode,"onUpdate:modelValue":a[16]||(a[16]=o=>n(t).applicantpostcode=o),label:"Applicant Postcode"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantcity,"onUpdate:modelValue":a[17]||(a[17]=o=>n(t).applicantcity=o),label:"Applicant City"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantstate,"onUpdate:modelValue":a[18]||(a[18]=o=>n(t).applicantstate=o),label:"Applicant State"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).applicantemail,"onUpdate:modelValue":a[19]||(a[19]=o=>n(t).applicantemail=o),label:"Applicant Email"},null,8,["modelValue"])]),_:1})]),_:1}),l(ue,null,{default:v(()=>[l(te,null,{default:v(()=>[F("Filter Instanllation: ")]),_:1}),l(ae,null,{default:v(()=>[l(A,{class:"mt-2",modelValue:n(t).installationaddress1,"onUpdate:modelValue":a[20]||(a[20]=o=>n(t).installationaddress1=o),label:"Installation Address1"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationaddress2,"onUpdate:modelValue":a[21]||(a[21]=o=>n(t).installationaddress2=o),label:"Installation Address2"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationaddress3,"onUpdate:modelValue":a[22]||(a[22]=o=>n(t).installationaddress3=o),label:"Installation Address3"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationpostcode,"onUpdate:modelValue":a[23]||(a[23]=o=>n(t).installationpostcode=o),label:"Installation Postcode"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationcity,"onUpdate:modelValue":a[24]||(a[24]=o=>n(t).installationcity=o),label:"Installation City"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationstate,"onUpdate:modelValue":a[25]||(a[25]=o=>n(t).installationstate=o),label:"Installation State"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationpropertytype,"onUpdate:modelValue":a[26]||(a[26]=o=>n(t).installationpropertytype=o),label:"Installation Property Type"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationcontactperson,"onUpdate:modelValue":a[27]||(a[27]=o=>n(t).installationcontactperson=o),label:"Installation Contact Person"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).installationcontactnumber,"onUpdate:modelValue":a[28]||(a[28]=o=>n(t).installationcontactnumber=o),label:"Installation Contact Number"},null,8,["modelValue"])]),_:1})]),_:1}),l(ue,null,{default:v(()=>[l(te,null,{default:v(()=>[F("Filter Billing: ")]),_:1}),l(ae,null,{default:v(()=>[l(A,{class:"mt-2",modelValue:n(t).billingaddress1,"onUpdate:modelValue":a[29]||(a[29]=o=>n(t).billingaddress1=o),label:"Billing Address1"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).billingaddress2,"onUpdate:modelValue":a[30]||(a[30]=o=>n(t).billingaddress2=o),label:"Billing Address2"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).billingaddress3,"onUpdate:modelValue":a[31]||(a[31]=o=>n(t).billingaddress3=o),label:"Billing Address3"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).billingpostcode,"onUpdate:modelValue":a[32]||(a[32]=o=>n(t).billingpostcode=o),label:"Billing Postcode"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).billingcity,"onUpdate:modelValue":a[33]||(a[33]=o=>n(t).billingcity=o),label:"Billing City"},null,8,["modelValue"]),l(A,{class:"mt-2",modelValue:n(t).billingstate,"onUpdate:modelValue":a[34]||(a[34]=o=>n(t).billingstate=o),label:"Billing State"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}};const sa=Wt("v-alert-title"),oa=["success","info","warning","error"],de=Q()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:pe,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>oa.includes(e)},...K(),...bt(),...Vt(),...ye(),...ht(),...xt(),...be(),...me(),...ge(),...kt({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{emit:u,slots:s}=m;const i=He(e,"modelValue"),t=L(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),c=L(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:g}=_e(e),{colorClasses:b,colorStyles:_,variantClasses:p}=wt(c),{densityClasses:d}=Ct(e),{dimensionStyles:r}=At(e),{elevationClasses:a}=Ve(e),{locationStyles:f}=St(e),{positionClasses:$}=Pt(e),{roundedClasses:o}=he(e),{textColorClasses:k,textColorStyles:P}=$t(j(e,"borderColor")),{t:V}=Tt(),S=L(()=>({"aria-label":V(e.closeLabel),onClick(h){i.value=!1,u("click:close",h)}}));return()=>{const h=!!(s.prepend||t.value),x=!!(s.title||e.title),T=!!(e.text||s.text),I=!!(s.close||e.closable);return i.value&&l(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},g.value,b.value,d.value,a.value,$.value,o.value,p.value,e.class],style:[_.value,r.value,f.value,e.style],role:"alert"},{default:()=>{var O,R;return[Lt(!1,"v-alert"),e.border&&l("div",{key:"border",class:["v-alert__border",k.value],style:P.value},null),h&&l("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?l(Fe,{key:"prepend-defaults",disabled:!t.value,defaults:{VIcon:{density:e.density,icon:t.value,size:e.prominent?44:28}}},s.prepend):l(Z,{key:"prepend-icon",density:e.density,icon:t.value,size:e.prominent?44:28},null)]),l("div",{class:"v-alert__content"},[x&&l(sa,{key:"title"},{default:()=>{var H;return[((H=s.title)==null?void 0:H.call(s))??e.title]}}),T&&(((O=s.text)==null?void 0:O.call(s))??e.text),(R=s.default)==null?void 0:R.call(s)]),s.append&&l("div",{key:"append",class:"v-alert__append"},[s.append()]),I&&l("div",{key:"close",class:"v-alert__close"},[s.close?l(Fe,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var H;return[(H=s.close)==null?void 0:H.call(s,{props:S.value})]}}):l(M,xe({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},S.value),null)])]}})}}}),ia=w("div",{class:"v-card-title"},"Manual Assign 2",-1),ua={class:"mx-2"},ra={key:0,class:"text-right",style:{color:"rgb(var(--v-theme-error))"}},da={__name:"ManualAssign2",setup(e){const m=y("result: 2"),u=y("FOLLOWUP = 2"),s=()=>{};return(i,t)=>(C(),U("div",null,[ia,l(ie,{class:"my-4"},{default:v(()=>[l(N,{cols:"12",md:"3"},{default:v(()=>[l(Ke)]),_:1}),l(N,{cols:"12",md:"6"},{default:v(()=>[w("div",ua,[l(de,{variant:"outlined",color:"error"},{default:v(()=>[F(" Note: This action will replace on assigned data, if data assigned, and each time will limit 200 result ")]),_:1}),l(Xt,{class:"mt-4",items:i.users,variant:"outlined",label:"Assign Data To"},null,8,["items"]),l(A,{class:"mt-4",label:"Assign Limit"}),n(m).length>0?(C(),U("div",ra,E(n(m)),1)):B("",!0),l(M,{class:"mt-4",onClick:s},{default:v(()=>[F(" Assign ")]),_:1})])]),_:1}),l(N,{cols:"12",md:"3"},{default:v(()=>[n(u).length>0?(C(),Y(de,{key:0,variant:"outlined",color:"error"},{default:v(()=>[F(E(n(u)),1)]),_:1})):B("",!0)]),_:1})]),_:1})]))}},Be={__name:"ActionButton",props:{menuList:{type:Array,required:!1},menuTitle:{type:String,required:!0},itemProps:{type:Boolean,required:!1}},emits:["update-action"],setup(e,{emit:m}){const u=e,s=i=>{m("update-action",i)};return(i,t)=>(C(),Y(M,{color:"primary",rounded:"pill"},{default:v(()=>[w("span",null,E(e.menuTitle),1),l(Z,{icon:"tabler-chevron-down"}),u.menuList?(C(),Y(We,{key:0,activator:"parent"},{default:v(()=>[l(Xe,null,{default:v(()=>[(C(!0),U(le,null,J(u.menuList,(c,g)=>(C(),Y(Ge,{onClick:b=>s(c.value)},{default:v(()=>[F(E(c.title),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})):B("",!0)]),_:1}))}};const ca=w("div",{class:"v-card-title"},"Blocking",-1),ma={class:"mt-2"},va=w("div",{class:"d-flex align-center mt-4"},[w("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Name "),w("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Status ")],-1),pa={key:0},fa={class:"mt-6 d-flex justify-center"},ga={__name:"Blocking",setup(e){const m=y([{id:1952,name:"NICOLE"},{id:1953,name:"JENNY"},{id:1954,name:"SOPHIE"}]),u=["Allow","Block"];return(s,i)=>(C(),U("div",null,[ca,w("div",ma,[l(ie,null,{default:v(()=>[l(N,{cols:"12",md:"4"}),l(N,{cols:"12",md:"4"},{default:v(()=>[va,(C(!0),U(le,null,J(n(m),(t,c)=>(C(),U("div",{key:c,class:"d-flex align-center mt-4"},[l(jt,{for:s.elementId,class:"text-high-emphasis fixed-label",text:`(${t.id}) ${t.name}`},null,8,["for","text"]),l(ce,{items:u})]))),128)),n(m).length==0?(C(),U("div",pa," There are no agents. ")):B("",!0),w("div",fa,[l(M,null,{default:v(()=>[F(" Apply ")]),_:1})])]),_:1}),l(N,{cols:"12",md:"4"})]),_:1})])]))}},_a=w("div",{class:"v-card-title"},"Auto Assign",-1),ya=w("div",{class:"mt-4 font-weight-bold"},[w("small",null,"Assigned Count")],-1),ba={class:"text-right"},Va={class:"font-weight-bold"},ha={__name:"AutoAssign",emits:["update-action"],setup(e,{emit:m}){const u=y(0),s=y(0),i=y(0),t=oe();qe();const c=parseInt(t.params.id),g=y(""),b=L(()=>g.value.length>0),_=["Normal","Random"],p=y([]),d=y(null),r=y("Normal"),a=y(0),f=()=>{const P=d.value,V=r.value,S=a.value;if(P==null||P==""){g.value="Please select a team leader";return}if(V==null||V==""){g.value="Please select a assign method";return}if(S==0){g.value="Amount must not be 0";return}if(S>u.value){g.value="amount must be less than or equal to available count";return}const h={leader:P,method:V,amount:S};z.post(`/admin/campaigns/${c}/assign`,h).then(x=>{o()})},$=()=>{const P=Ne()?"/users/leaders":"/users/agents";z.get(P).then(V=>{const{leaders:S}=V.data;p.value=S.map(h=>({value:h.id,title:h.username}))})},o=()=>{z.get(`/admin/campaigns/${c}/count-unassigned`).then(P=>{const{unassigned_count:V,total_count:S}=P.data;u.value=V,s.value=S,S!=0&&(i.value=100-V*100/S)})},k=()=>{m("update-action","list")};return W(()=>{$(),o()}),(P,V)=>{const S=ce,h=Ze;return C(),U("div",null,[_a,l(ie,{class:"my-4"},{default:v(()=>[l(N,{cols:"12",md:"3"}),l(N,{cols:"12",md:"6"},{default:v(()=>[l(de,{class:"mt-4",variant:"outlined",color:"error"},{default:v(()=>[F(" Note: This will apply on unassigned data ")]),_:1}),ya,l(ze,{color:"primary",modelValue:n(i),"onUpdate:modelValue":V[0]||(V[0]=x=>D(i)?i.value=x:null),striped:""},null,8,["modelValue"]),w("div",ba,[w("small",Va,"unassigned "+E(n(u)),1),w("small",null," / total "+E(n(s)),1)]),l(S,{class:"mt-4",items:n(p),modelValue:n(d),"onUpdate:modelValue":V[1]||(V[1]=x=>D(d)?d.value=x:null),label:"Assign Data To"},null,8,["items","modelValue"]),l(S,{class:"mt-4",items:_,modelValue:n(r),"onUpdate:modelValue":V[2]||(V[2]=x=>D(r)?r.value=x:null),label:"Method"},null,8,["modelValue"]),l(h,{class:"mt-4",label:"Amount",type:"number",modelValue:n(a),"onUpdate:modelValue":V[3]||(V[3]=x=>D(a)?a.value=x:null)},null,8,["modelValue"]),l(M,{class:"mr-4 my-4",color:"error",onClick:k},{default:v(()=>[F(" Back to Main ")]),_:1}),l(M,{class:"my-4",onClick:f},{default:v(()=>[F(" Assign ")]),_:1})]),_:1}),l(N,{cols:"12",md:"3"}),l(we,{modelValue:n(b),"onUpdate:modelValue":V[4]||(V[4]=x=>D(b)?b.value=x:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[F(E(n(g)),1)]),_:1},8,["modelValue"])]),_:1})])}}},xa=w("div",{class:"v-card-title"},"Manual Assign",-1),ka={class:"mx-2"},wa=w("h4",{class:"mt-6"},"Assigned Count",-1),Ca={class:"text-right"},Aa={class:"font-weight-bold"},Sa={class:"text-right"},Pa={__name:"ManualAssign",setup(e){const m=y(0),u=y(0),s=y(0),i=y(),t=y([]),c=y(),g=y(),b=y(""),_=L(()=>b.value.length>0),p=()=>{const o=Ne()?"/users/leaders":"/users/agents";z.get(o).then(k=>{const{leaders:P}=k.data;t.value=P.map(V=>({value:V.id,title:V.username}))})},d=()=>{const o=c.value,k=g.value;if(o==null||o==""){b.value="Please select a team leader";return}if(k==0){b.value="Amount must not be 0";return}if(k>m.value){b.value="amount must be less than or equal to available count";return}const P={leader:o,method:"Random",amount:k,...i.value};z.post(`/admin/campaigns/${$}/assign-filter`,P).then(V=>{a(i.value)})},r=o=>{a({...o}),i.value=o},a=o=>{z.get(`/admin/campaigns/${$}/count-unassigned-filter`,{params:o}).then(k=>{const{unassigned_count:P,total_count:V}=k.data;m.value=P,u.value=V,V!=0&&(s.value=100-P*100/V)})},f=oe(),$=parseInt(f.params.id);return W(()=>{p(),a({})}),(o,k)=>{const P=ce;return C(),U("div",null,[xa,l(ie,{class:"my-4"},{default:v(()=>[l(N,{cols:"12",md:"4"},{default:v(()=>[l(Ke,{onSetCustomFilter:r})]),_:1}),l(N,{cols:"12",md:"8"},{default:v(()=>[w("div",ka,[l(de,{variant:"outlined",color:"error"},{default:v(()=>[F(" Note: This action will replace on assigned data ")]),_:1}),wa,l(ze,{color:"primary",class:"mt-2",modelValue:n(s),"onUpdate:modelValue":k[0]||(k[0]=V=>D(s)?s.value=V:null),striped:""},null,8,["modelValue"]),w("div",Ca,[w("small",Aa,"unassigned "+E(n(m)),1),w("small",null," / total "+E(n(u)),1)]),l(P,{class:"mt-4",items:n(t),modelValue:n(c),"onUpdate:modelValue":k[1]||(k[1]=V=>D(c)?c.value=V:null),variant:"outlined",label:"Assign Data To"},null,8,["items","modelValue"]),l(A,{class:"mt-4",modelValue:n(g),"onUpdate:modelValue":k[2]||(k[2]=V=>D(g)?g.value=V:null),label:"Assign Limit"},null,8,["modelValue"]),w("div",Sa,[l(M,{class:"mt-4",onClick:d},{default:v(()=>[F(" Assign ")]),_:1})])])]),_:1})]),_:1}),l(we,{modelValue:n(_),"onUpdate:modelValue":k[3]||(k[3]=V=>D(_)?_.value=V:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[F(E(n(b)),1)]),_:1},8,["modelValue"])])}}};function $a(e){let{rootEl:m,isSticky:u,layoutItemStyles:s}=e;const i=y(!1),t=y(0),c=L(()=>{const _=typeof i.value=="boolean"?"top":i.value;return[u.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[_]:ee(t.value)}:{top:s.value.top}]});W(()=>{G(u,_=>{_?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),Ye(()=>{document.removeEventListener("scroll",b)});let g=0;function b(){const _=g>window.scrollY?"up":"down",p=m.value.getBoundingClientRect(),d=parseFloat(s.value.top??0),r=window.scrollY-Math.max(0,t.value-d),a=p.height+Math.max(t.value,d)-window.scrollY-window.innerHeight;p.height<window.innerHeight-d?(i.value="top",t.value=d):_==="up"&&i.value==="bottom"||_==="down"&&i.value==="top"?(t.value=window.scrollY+p.top,i.value=!0):_==="down"&&a<=0?(t.value=0,i.value="bottom"):_==="up"&&r<=0&&(t.value=p.top+r,i.value="top"),g=window.scrollY}return{isStuck:i,stickyStyles:c}}const Ta=100,La=20;function Ee(e){const m=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*m}function De(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let m=0;for(let u=e.length-1;u>0;u--){if(e[u].t===e[u-1].t)continue;const s=Ee(m),i=(e[u].d-e[u-1].d)/(e[u].t-e[u-1].t);m+=(i-s)*Math.abs(i),u===e.length-1&&(m*=.5)}return Ee(m)*1e3}function Fa(){const e={};function m(i){Array.from(i.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Ft(La))).push([i.timeStamp,t])})}function u(i){Array.from(i.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(i){var _;const t=(_=e[i])==null?void 0:_.values().reverse();if(!t)throw new Error(`No samples for touch id ${i}`);const c=t[0],g=[],b=[];for(const p of t){if(c[0]-p[0]>Ta)break;g.push({t:p[0],d:p[1].clientX}),b.push({t:p[0],d:p[1].clientY})}return{x:De(g),y:De(b),get direction(){const{x:p,y:d}=this,[r,a]=[Math.abs(p),Math.abs(d)];return r>a&&p>=0?"right":r>a&&p<=0?"left":a>r&&d>=0?"down":a>r&&d<=0?"up":Ua()}}}return{addMovement:m,endTouch:u,getVelocity:s}}function Ua(){throw new Error}function Ia(e){let{isActive:m,isTemporary:u,width:s,touchless:i,position:t}=e;W(()=>{window.addEventListener("touchstart",k,{passive:!0}),window.addEventListener("touchmove",P,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),Ye(()=>{window.removeEventListener("touchstart",k),window.removeEventListener("touchmove",P),window.removeEventListener("touchend",V)});const c=L(()=>["left","right"].includes(t.value)),{addMovement:g,endTouch:b,getVelocity:_}=Fa();let p=!1;const d=y(!1),r=y(0),a=y(0);let f;function $(h,x){return(t.value==="left"?h:t.value==="right"?document.documentElement.clientWidth-h:t.value==="top"?h:t.value==="bottom"?document.documentElement.clientHeight-h:X())-(x?s.value:0)}function o(h){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const T=t.value==="left"?(h-a.value)/s.value:t.value==="right"?(document.documentElement.clientWidth-h-a.value)/s.value:t.value==="top"?(h-a.value)/s.value:t.value==="bottom"?(document.documentElement.clientHeight-h-a.value)/s.value:X();return x?Math.max(0,Math.min(1,T)):T}function k(h){if(i.value)return;const x=h.changedTouches[0].clientX,T=h.changedTouches[0].clientY,I=25,O=t.value==="left"?x<I:t.value==="right"?x>document.documentElement.clientWidth-I:t.value==="top"?T<I:t.value==="bottom"?T>document.documentElement.clientHeight-I:X(),R=m.value&&(t.value==="left"?x<s.value:t.value==="right"?x>document.documentElement.clientWidth-s.value:t.value==="top"?T<s.value:t.value==="bottom"?T>document.documentElement.clientHeight-s.value:X());(O||R||m.value&&u.value)&&(p=!0,f=[x,T],a.value=$(c.value?x:T,m.value),r.value=o(c.value?x:T),b(h),g(h))}function P(h){const x=h.changedTouches[0].clientX,T=h.changedTouches[0].clientY;if(p){if(!h.cancelable){p=!1;return}const O=Math.abs(x-f[0]),R=Math.abs(T-f[1]);(c.value?O>R&&O>3:R>O&&R>3)?(d.value=!0,p=!1):(c.value?R:O)>3&&(p=!1)}if(!d.value)return;h.preventDefault(),g(h);const I=o(c.value?x:T,!1);r.value=Math.max(0,Math.min(1,I)),I>1?a.value=$(c.value?x:T,!0):I<0&&(a.value=$(c.value?x:T,!1))}function V(h){if(p=!1,!d.value)return;g(h),d.value=!1;const x=_(h.changedTouches[0].identifier),T=Math.abs(x.x),I=Math.abs(x.y);(c.value?T>I&&T>400:I>T&&I>3)?m.value=x.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||X()):m.value=r.value>.5}const S=L(()=>d.value?{transform:t.value==="left"?`translateX(calc(-100% + ${r.value*s.value}px))`:t.value==="right"?`translateX(calc(100% - ${r.value*s.value}px))`:t.value==="top"?`translateY(calc(-100% + ${r.value*s.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${r.value*s.value}px))`:X(),transition:"none"}:void 0);return{isDragging:d,dragProgress:r,dragStyles:S}}function X(){throw new Error}const Ba=["start","end","left","right","top","bottom"],Ea=Q()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>Ba.includes(e)},sticky:Boolean,...Ut(),...K(),...ye(),...It(),...be(),...me({tag:"nav"}),...ge()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,m){let{attrs:u,emit:s,slots:i}=m;const{isRtl:t}=Bt(),{themeClasses:c}=_e(e),{borderClasses:g}=Et(e),{backgroundColorClasses:b,backgroundColorStyles:_}=re(j(e,"color")),{elevationClasses:p}=Ve(e),{mobile:d}=Dt(),{roundedClasses:r}=he(e),a=Nt(),f=He(e,"modelValue",null,q=>!!q),{ssrBootStyles:$}=Gt(),o=y(),k=y(!1),P=L(()=>e.rail&&e.expandOnHover&&k.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=L(()=>Mt(e.location,t.value)),S=L(()=>!e.permanent&&(d.value||e.temporary)),h=L(()=>e.sticky&&!S.value&&V.value!=="bottom");e.expandOnHover&&e.rail!=null&&G(k,q=>s("update:rail",!q)),e.disableResizeWatcher||G(S,q=>!e.permanent&&Ot(()=>f.value=!q)),!e.disableRouteWatcher&&a&&G(a.currentRoute,()=>S.value&&(f.value=!1)),G(()=>e.permanent,q=>{q&&(f.value=!0)}),Rt(()=>{e.modelValue!=null||S.value||(f.value=e.permanent||!d.value)});const{isDragging:x,dragProgress:T,dragStyles:I}=Ia({isActive:f,isTemporary:S,width:P,touchless:j(e,"touchless"),position:V}),O=L(()=>{const q=S.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):P.value;return x.value?q*T.value:q}),{layoutItemStyles:R,layoutRect:H,layoutItemScrimStyles:et}=Ht({id:e.name,order:L(()=>parseInt(e.order,10)),position:V,layoutSize:O,elementSize:P,active:L(()=>f.value||x.value),disableTransitions:L(()=>x.value),absolute:L(()=>e.absolute||h.value&&typeof Ae.value!="string")}),{isStuck:Ae,stickyStyles:tt}=$a({rootEl:o,isSticky:h,layoutItemStyles:R}),Se=re(L(()=>typeof e.scrim=="string"?e.scrim:null)),at=L(()=>({...x.value?{opacity:T.value*.2,transition:"none"}:void 0,...H.value?{left:ee(H.value.left),right:ee(H.value.right),top:ee(H.value.top),bottom:ee(H.value.bottom)}:void 0,...et.value}));Me({VList:{bgColor:"transparent"}});function lt(){k.value=!0}function nt(){k.value=!1}return se(()=>{const q=i.image||e.image;return l(le,null,[l(e.tag,xe({ref:o,onMouseenter:lt,onMouseleave:nt,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":k.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":S.value,"v-navigation-drawer--active":f.value,"v-navigation-drawer--sticky":h.value},c.value,b.value,g.value,p.value,r.value,e.class],style:[_.value,R.value,I.value,$.value,tt.value,e.style]},u),{default:()=>{var Pe,$e,Te,Le;return[q&&l("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(Pe=i.image)==null?void 0:Pe.call(i,{image:e.image}):l("img",{src:e.image,alt:""},null)]),i.prepend&&l("div",{class:"v-navigation-drawer__prepend"},[($e=i.prepend)==null?void 0:$e.call(i)]),l("div",{class:"v-navigation-drawer__content"},[(Te=i.default)==null?void 0:Te.call(i)]),i.append&&l("div",{class:"v-navigation-drawer__append"},[(Le=i.append)==null?void 0:Le.call(i)])]}}),l(qt,{name:"fade-transition"},{default:()=>[S.value&&(x.value||f.value)&&!!e.scrim&&l("div",{class:["v-navigation-drawer__scrim",Se.backgroundColorClasses.value],style:[at.value,Se.backgroundColorStyles.value],onClick:()=>f.value=!1},null)]})])}),{isStuck:Ae}}}),Da={class:"customizer-heading d-flex align-center justify-space-between"},Na=w("div",null,[w("h6",{class:"text-h6"}," Custom Filter "),w("span",{class:"text-body-1"},"Customize fields for Filter")],-1),Ma={class:"mx-6 pt-4"},Oa={class:"mt-2 d-flex align-end justify-start"},Ra={__name:"CustomFilter",props:{isNavDrawerOpen:{type:Boolean,required:!0}},emits:["close-custom-filter"],setup(e,{emit:m}){const u=e,s=L(()=>i.value.length>0),i=y(""),t=y(""),c=()=>{t.value=""},g=y({applicantname:"",applicantidentity:""}),b=zt(u,"isNavDrawerOpen"),_=()=>{const d=g.value,r=t.value;let a=null,f=null;r&&r.length>0&&([a,f]=r.split(" to "),f||(f=a)),m("apply-custom-filter",{applicantname:d.applicantname.trim(),applicantidentity:d.applicantidentity.trim(),start_date:a,end_date:f})},p=()=>{m("close-custom-filter")};return(d,r)=>{const a=Ue("IconBtn"),f=fe,$=Ze,o=Ue("PerfectScrollbar");return C(),U("div",null,[l(Ea,{modelValue:n(b),"onUpdate:modelValue":r[3]||(r[3]=k=>D(b)?b.value=k:null),temporary:"",border:"0",location:"end",width:"400",scrim:!1,class:"app-customizer"},{default:v(()=>[w("div",Da,[Na,l(a,{onClick:p},{default:v(()=>[l(Z,{icon:"tabler-x",size:"20"})]),_:1})]),l(Zt),l(o,{tag:"ul",options:{wheelPropagation:!1}},{default:v(()=>[w("div",Ma,[w("div",Oa,[l(f,{modelValue:n(t),"onUpdate:modelValue":r[0]||(r[0]=k=>D(t)?t.value=k:null),label:"Period",config:{mode:"range"}},null,8,["modelValue"]),l(a,{class:"mr-4",color:"primary",disabled:!n(t)||n(t)=="",onClick:c},{default:v(()=>[l(Z,{icon:"tabler-eraser"})]),_:1},8,["disabled"])]),l($,{class:"mt-2",modelValue:n(g).applicantname,"onUpdate:modelValue":r[1]||(r[1]=k=>n(g).applicantname=k),label:"Applicant Name"},null,8,["modelValue"]),l($,{class:"mt-2",modelValue:n(g).applicantidentity,"onUpdate:modelValue":r[2]||(r[2]=k=>n(g).applicantidentity=k),label:"Applicant Identity"},null,8,["modelValue"]),l(M,{block:"",class:"mt-4",onClick:_},{default:v(()=>[F(" Apply Custom Filter ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),l(we,{modelValue:n(s),"onUpdate:modelValue":r[4]||(r[4]=k=>D(s)?s.value=k:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[F(E(n(i)),1)]),_:1},8,["modelValue"])])}}};const Ha={class:"filter-tabs"},qa=w("div",{class:"d-flex w-full"},[w("small",null,"Filter: ")],-1),za={class:"mb-2"},Ya={__name:"FilterTabs",props:{filterList:{type:Object,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},is_custom:{type:String,required:!1}},emits:["set-filter","set-custom-filter"],setup(e,{emit:m}){const u=e,s=j(u,"status");j(u,"sub_status");const i=j(u,"is_custom"),t="submission",c=(_,p)=>{m("set-filter",{status:_,sub_status:p})},g=()=>{m("set-custom-filter")},b=_=>{_=="Default"?c("Default",""):_==t&&c(t,t)};return(_,p)=>(C(),U("div",Ha,[qa,w("div",za,[(C(!0),U(le,null,J(u.filterList,(d,r)=>(C(),Y(We,{key:r},{activator:v(({props:a})=>[d.items.All>0?(C(),Y(M,xe({key:0,variant:"text",color:!n(i)&&d.key.toLowerCase()==n(s).toLowerCase()?"primary":"black",onClick:f=>b(d.key)},a),{default:v(()=>[l(Ie,{class:"custom__badge mr-4",content:d.items.All,"offset-x":-8,"offset-y":-8},{default:v(()=>[F(E(d.key),1)]),_:2},1032,["content"]),Object.keys(d.items).length>1?(C(),Y(Z,{key:0,icon:"tabler-chevron-down"})):B("",!0)]),_:2},1040,["color","onClick"])):B("",!0)]),default:v(()=>[Object.keys(d.items).length>1?(C(),Y(Xe,{key:0},{default:v(()=>[(C(!0),U(le,null,J(d.items,(a,f)=>(C(),Y(Ge,{key:f,onClick:$=>c(d.key,f)},{default:v(()=>[l(Ie,{class:"custom__badge",content:a,"offset-x":-18,"offset-y":6},{default:v(()=>[F(E(f),1)]),_:2},1032,["content"])]),_:2},1032,["onClick"]))),128))]),_:2},1024)):B("",!0)]),_:2},1024))),128)),l(M,{class:"ml-2",variant:"outlined",color:n(i)?"primary":"black",onClick:g},{default:v(()=>[F(" Custom Filter ")]),_:1},8,["color"])])]))}},ja={__name:"FilteredList",props:{showSelect:{type:Boolean,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},custom_filter:{type:Object,required:!1},campaign_id:{type:Number,required:!0},is_custom:{type:Boolean,required:!0}},setup(e){const m=e,u=qe(),s=y(!1),i=y(ot),t=y(0),c=j(m,"status"),g=j(m,"sub_status"),b=j(m,"is_custom"),_=y([]),p=(r,a)=>{u.push(`/campaign-detail/${a.item.raw.id}`)},d=async()=>{s.value=!0;const r={status:c.value,sub_status:g.value,...m.custom_filter};z.post(`/admin/campaigns/${m.campaign_id}/list?page=${i.value.page}&itemsPerPage=${i.value.itemsPerPage}`,r).then(a=>{const{total:f,list:$}=a.data;_.value=$,t.value=Math.ceil(f/i.value.itemsPerPage),s.value=!1}).catch(a=>{console.error("Error fetching data:",a),s.value=!1})};return G([()=>i.value.page,()=>i.value.itemsPerPage,c,g,b,()=>m.custom_filter],()=>{d()}),W(()=>{d()}),(r,a)=>(C(),Y(n(Ce),{headers:n(it).campaignDetail,items:n(_),"items-per-page":n(i).itemsPerPage,loading:n(s),"onUpdate:options":a[2]||(a[2]=f=>i.value=f),"onClick:row":p},{bottom:v(()=>[l(Je,{class:"mt-8"},{default:v(()=>[l(ie,null,{default:v(()=>[l(N,{lg:"2",cols:"3"},{default:v(()=>[l(A,{modelValue:n(i).itemsPerPage,"onUpdate:modelValue":a[0]||(a[0]=f=>n(i).itemsPerPage=f),label:"Rows per page:",type:"number",min:"-1",max:"15","hide-details":""},null,8,["modelValue"])]),_:1}),l(N,{lg:"10",cols:"9",class:"d-flex justify-end"},{default:v(()=>[l(ea,{modelValue:n(i).page,"onUpdate:modelValue":a[1]||(a[1]=f=>n(i).page=f),"total-visible":"5",length:n(t)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1},8,["headers","items","items-per-page","loading"]))}},Wa={__name:"ListWithFilter",props:{campaign_id:{type:Number,required:!0}},setup(e){const m=e,u=y({}),s=y("Default"),i=y(""),t=y(!1),c=y(!1),g=y({}),b=a=>{z.get(`/admin/campaigns/${m.campaign_id}/filters`,{status:s.value,sub_status:i.value,...a}).then(f=>{const $=[],{counts_status:o,counts_substatus:k}=f.data;let P,V;for(var S of o){const h=S.progressStatus==""?"Default":S.progressStatus,x={All:S.count};h=="Default"?S.count!=0&&(P={key:h,items:x}):h=="submission"?S.count!=0&&(V={key:h,items:x}):(k.filter(T=>T.progressStatus==S.progressStatus).forEach(T=>{x[T.progressSubStatus]=T.count}),$.push({key:h,items:x}))}P&&$.unshift(P),V&&$.push(V),u.value=$})},_=a=>{(s.value!=a.status||i.value!=a.sub_status)&&(s.value=a.status,i.value=a.sub_status,c.value=!1)},p=()=>{t.value=!0},d=()=>{t.value=!1},r=a=>{a.applicantname.length==0&&a.applicantidentity.length==0&&(!a.start_date||a.start_date.length==0)&&(!a.end_date||a.end_date.length==0)?(c.value=!1,g.value={}):(c.value=!0,g.value=a)};return W(()=>{b()}),(a,f)=>(C(),U("div",null,[Object.keys(n(u)).length>0?(C(),Y(Ya,{key:0,filterList:n(u),status:n(s),sub_status:n(i),is_custom:n(c),onSetCustomFilter:p,onSetFilter:_},null,8,["filterList","status","sub_status","is_custom"])):B("",!0),l(ja,{class:"mt-2",campaign_id:m.campaign_id,status:n(s),sub_status:n(i),is_custom:n(c),custom_filter:n(g)},null,8,["campaign_id","status","sub_status","is_custom","custom_filter"]),l(Ra,{isNavDrawerOpen:n(t),onCloseCustomFilter:d,onApplyCustomFilter:r},null,8,["isNavDrawerOpen"])]))}},Xa=w("div",{class:"v-card-title"},"Accumulated Data",-1),Ga={__name:"AccumulateList",setup(e){const m=y([]),u=y([]),s=y([]),t=oe().params.id,c=()=>{z.post(`/campaign-detail/${t}/lead-progress`).then(b=>{const{status:_,lead_progress:p}=b.data,d=[{key:"name",title:"Name"},{key:"total_leads",title:"Total Leads"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],r=[{key:"",title:"Fresh"}];for(const a of _)a!=""&&r.push({key:a,title:a});s.value=r,m.value=[...d,...r],u.value=p})},g=(b,_,p)=>_==0||b==0?0:p?`${(100*b/_).toFixed(2)}%`:`${b} (${(100*b/_).toFixed(2)}%)`;return W(()=>{c()}),(b,_)=>(C(),U("div",null,[Xa,l(n(Ce),{headers:n(m),items:n(u),itemsPerPage:50},ke({_:2},[J(n(s),p=>({name:`item.${p.key}`,fn:v(({item:d})=>[F(E(g(d.raw[p.key],d.raw.total_leads,d.raw.name=="Average")),1)])}))]),1032,["headers","items"])]))}};const Za=w("div",{class:"v-card-title"},"Filtered Accumulated Data",-1),Ja=w("div",{class:"d-flex mb-2 mx-4"},[w("small",null,"Filter: ")],-1),Qa={class:"d-flex mx-4 mb-4 align-center"},Ka={__name:"DateAccumulateList",setup(e){const m=y([]),u=y([]),s=y([]),t=oe().params.id,c=y(""),g=()=>{const p={};if(c.value!==""){let[d,r]=c.value.split(" to ");(!r||r=="")&&(r=d),p.start_date=d,p.end_date=r}else{const d=new Date().toISOString().substring(0,10);p.start_date=d,p.end_date=d}z.post(`/campaign-detail/${t}/lead-progress`,p).then(d=>{const{status:r,lead_progress:a}=d.data,f=[{key:"name",title:"Name"},{key:"total_leads",title:"Total Leads"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],$=[];for(const o of r)$.push({key:o,title:o==""?"Fresh":o.toUpperCase()});s.value=$,m.value=[...f,...$],u.value=a})},b=(p,d,r)=>d==0||p==0?0:r?`${(100*p/d).toFixed(2)}%`:`${p} (${(100*p/d).toFixed(2)}%)`,_=()=>{g()};return W(()=>{g()}),(p,d)=>{const r=fe;return C(),U("div",null,[Za,Ja,w("div",Qa,[l(r,{class:"mr-4 date-picker",modelValue:n(c),"onUpdate:modelValue":d[0]||(d[0]=a=>D(c)?c.value=a:null),config:{mode:"range"}},null,8,["modelValue"]),l(M,{onClick:_},{default:v(()=>[F(" Apply ")]),_:1})]),l(n(Ce),{headers:n(m),items:n(u),itemsPerPage:50},ke({_:2},[J(n(s),a=>({name:`item.${a.key}`,fn:v(({item:f})=>[F(E(b(f.raw[a.key],f.raw.total_leads,f.raw.name=="Average")),1)])}))]),1032,["headers","items"])])}}};const el={class:"d-flex align-end justify-end"},tl={key:0},al={key:1},ll={key:2},nl={key:3},sl={key:4},ol={key:5},il={key:6},Pl={__name:"[id]",setup(e){const m=[{title:"Auto Assign",value:"auto-assign"},{title:"Manual Assign",value:"manual-assign"}],u=[{title:"Accumulate",value:"accumulate"},{title:"Today",value:"today"}],s=oe(),i=parseInt(s.params.id),t=y("list"),c=g=>{t.value=g};return(g,b)=>{const _=da;return C(),U("div",null,[l(Kt,null,{default:v(()=>[l(Jt,null,ke({default:v(()=>[l(Qt,null,{default:v(()=>[F("Campaign Detail")]),_:1})]),_:2},[n(ut)()?{name:"append",fn:v(()=>[w("div",el,[l(Be,{class:"mr-2",menuTitle:"Assign",onUpdateAction:c,menuList:m}),l(Be,{class:"mr-2",menuTitle:"Lead Progress",onUpdateAction:c,menuList:u}),l(M,{class:"mr-2",color:"success",rounded:"pill",onClick:b[0]||(b[0]=()=>c("list"))},{default:v(()=>[F(" Manage ")]),_:1})])]),key:"0"}:void 0]),1024),l(Je,null,{default:v(()=>[n(t)=="auto-assign"?(C(),U("div",tl,[l(ha,{onUpdateAction:c})])):B("",!0),n(t)=="manual-assign"?(C(),U("div",al,[l(Pa,{onUpdateAction:c})])):B("",!0),n(t)=="manual-assign2"?(C(),U("div",ll,[l(_)])):B("",!0),n(t)=="list"?(C(),U("div",nl,[l(Wa,{campaign_id:n(i)},null,8,["campaign_id"])])):B("",!0),n(t)=="accumulate"?(C(),U("div",sl,[l(Ga)])):B("",!0),n(t)=="today"?(C(),U("div",ol,[l(Ka)])):B("",!0),n(t)=="blocking"?(C(),U("div",il,[l(ga)])):B("",!0)]),_:1})]),_:1})])}}};export{Pl as default};
