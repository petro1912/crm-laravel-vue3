import{_ as ve}from"./AppDateTimePicker-54ac9bdc.js";import{N as G,$ as J,al as nt,a0 as ce,am as fe,an as st,ao as pe,G as P,ap as Ie,a1 as Y,S as le,n as t,aq as ot,ar as Be,as as ie,I as Ne,ad as it,z as X,at as ut,au as me,J as rt,av as ct,aw as _e,ax as dt,ay as ge,az as mt,aA as ye,aB as he,aC as vt,j as C,o as h,c as S,l as x,w as o,C as E,L as F,p as r,aD as ft,aE as pt,aF as _t,aG as gt,aH as yt,Q as De,aI as ht,aJ as bt,aK as xt,aL as kt,aM as Vt,aN as Ct,a4 as At,aO as wt,aP as Se,H as be,x as H,A as B,b as W,F as te,a as ue,ak as Fe,s as Me,a2 as de,a9 as St,E as z,af as Z,D as K,ac as Oe,aQ as Pt,aR as Tt,aS as Et,aT as $t,aU as Lt,aV as It,aW as Bt,aX as Nt,a7 as Dt,aY as Ft,aZ as Mt,T as Ot,a_ as Rt,r as Pe,aa as Ut}from"./main-b62fcbe0.js";import{a as Re,b as Wt}from"./forwardRefs-86cf9be4.js";import{V as q}from"./VSelect-d35ace83.js";import{V as g,a as Ht}from"./VTextField-39797a21.js";import{a as D,V as ne}from"./VRow-575b7f29.js";import{c as zt}from"./VAvatar-ab715d22.js";import{V as Ue}from"./VMenu-1e359f1a.js";import{V as We,a as He,u as Yt}from"./VList-ebf882b7.js";import{_ as ze}from"./AppSelect-0e5ba3e7.js";import{V as Ye,_ as je}from"./VSnackbar-7fa37f0c.js";import{i as jt,t as qt,f as Xt,a as Gt}from"./auth-64f8f258.js";import{a as oe}from"./axios-37302b42.js";import{d as qe,a as Jt,b as Zt,V as Kt}from"./VCard-c429f977.js";import{a as Qt,V as Xe}from"./VPagination-cabbd5b5.js";import{V as ea}from"./VDivider-e30c3eab.js";import{V as Te}from"./VBadge-54bd8cad.js";import"./transition-0948c6b7.js";import"./VCheckboxBtn-443ecec5.js";import"./VImg-ee5ce0c7.js";const ae=Symbol.for("vuetify:v-expansion-panel"),ta=["default","accordion","inset","popout"],aa=G()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>ta.includes(e)},readonly:Boolean,...J(),...nt(),...ce(),...fe()},emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:s}=u;st(e,ae);const{themeClasses:a}=pe(e),n=P(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ie({VExpansionPanel:{color:Y(e,"color")},VExpansionPanelTitle:{readonly:Y(e,"readonly")}}),le(()=>t(e.tag,{class:["v-expansion-panels",a.value,n.value,e.class],style:e.style},s)),{}}}),Ge=ut({color:String,expandIcon:{type:me,default:"$expand"},collapseIcon:{type:me,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),Q=G()({name:"VExpansionPanelTitle",directives:{Ripple:ot},props:{...J(),...Ge()},setup(e,u){let{slots:s}=u;const a=Be(ae);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:n,backgroundColorStyles:l}=ie(e,"color"),c=P(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return le(()=>{var d;return Ne(t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value},n.value,e.class],style:[l.value,e.style],type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[t("span",{class:"v-expansion-panel-title__overlay"},null),(d=s.default)==null?void 0:d.call(s,c.value),!e.hideActions&&t("span",{class:"v-expansion-panel-title__icon"},[s.actions?s.actions(c.value):t(X,{icon:a.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[it("ripple"),e.ripple]])}),{}}}),ee=G()({name:"VExpansionPanelText",props:{...J(),...Re()},setup(e,u){let{slots:s}=u;const a=Be(ae);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:n,onAfterLeave:l}=Wt(e,a.isSelected);return le(()=>t(ct,{onAfterLeave:l},{default:()=>{var c;return[Ne(t("div",{class:["v-expansion-panel-text",e.class],style:e.style},[s.default&&n.value&&t("div",{class:"v-expansion-panel-text__wrapper"},[(c=s.default)==null?void 0:c.call(s)])]),[[rt,a.isSelected.value]])]}})),{}}}),se=G()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...J(),..._e(),...dt(),...Re(),...ge(),...ce(),...Ge()},emits:{"group:selected":e=>!0},setup(e,u){let{slots:s}=u;const a=mt(e,ae),{backgroundColorClasses:n,backgroundColorStyles:l}=ie(e,"bgColor"),{elevationClasses:c}=ye(e),{roundedClasses:d}=he(e),_=P(()=>(a==null?void 0:a.disabled.value)||e.disabled),k=P(()=>a.group.items.value.reduce((m,i,b)=>(a.group.selected.value.includes(i.id)&&m.push(b),m),[])),y=P(()=>{const m=a.group.items.value.findIndex(i=>i.id===a.id);return!a.isSelected.value&&k.value.some(i=>i-m===1)}),p=P(()=>{const m=a.group.items.value.findIndex(i=>i.id===a.id);return!a.isSelected.value&&k.value.some(i=>i-m===-1)});return vt(ae,a),le(()=>{const m=!!(s.text||e.text),i=!!(s.title||e.title);return t(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":y.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":_.value},d.value,n.value,e.class],style:[l.value,e.style],"aria-expanded":a.isSelected.value},{default:()=>{var b;return[t("div",{class:["v-expansion-panel__shadow",...c.value]},null),i&&t(Q,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[s.title?s.title():e.title]}),m&&t(ee,{key:"text",eager:e.eager},{default:()=>[s.text?s.text():e.text]}),(b=s.default)==null?void 0:b.call(s)]}})}),{}}}),la={class:"w-full align-center justify-between mb-4"},na=x("span",{class:"mr-2"},"Filter",-1),Je={__name:"Filter",setup(e){const u=C(["(1952) NICOLE","(1953) JENNY"]);return(s,a)=>{const n=ve;return h(),S("div",null,[x("div",la,[na,t(F,null,{default:o(()=>[E(" Apply ")]),_:1})]),t(aa,{multiple:""},{default:o(()=>[t(se,null,{default:o(()=>[t(Q,null,{default:o(()=>[E("Filter Basic: ")]),_:1}),t(ee,null,{default:o(()=>[t(q,{class:"mt-2",items:r(u),variant:"outlined",label:"Assigned User"},null,8,["items"]),t(q,{class:"mt-2",items:r(u),variant:"outlined",label:"Project Status"},null,8,["items"]),t(q,{class:"mt-2",items:r(u),variant:"outlined",label:"Sub Status"},null,8,["items"]),t(n,{class:"mt-2",label:"Import Date",modelValue:s.dateRange,"onUpdate:modelValue":a[0]||(a[0]=l=>s.dateRange=l)},null,8,["modelValue"]),t(g,{class:"mt-2",label:"Id"}),t(g,{class:"mt-2",label:"Current Status Date"}),t(g,{class:"mt-2",label:"Product Group"}),t(g,{class:"mt-2",label:"Product Name"})]),_:1})]),_:1}),t(se,null,{default:o(()=>[t(Q,null,{default:o(()=>[E("Filter Applicant: ")]),_:1}),t(ee,null,{default:o(()=>[t(g,{class:"mt-2",label:"Applicant Type Name"}),t(g,{class:"mt-2",label:"Applicant Company"}),t(g,{class:"mt-2",label:"Application Business Registration Number"}),t(g,{class:"mt-2",label:"Applicant Name"}),t(g,{class:"mt-2",label:"Applicant Identity"}),t(g,{class:"mt-2",label:"Applicant Gender"}),t(g,{class:"mt-2",label:"Race Name"}),t(g,{class:"mt-2",label:"Applicant Mobile"}),t(g,{class:"mt-2",label:"Applicant Fax"}),t(g,{class:"mt-2",label:"Applicant Other Phone"}),t(g,{class:"mt-2",label:"Applicant Address1"}),t(g,{class:"mt-2",label:"Applicant Address2"}),t(g,{class:"mt-2",label:"Applicant Address3"}),t(g,{class:"mt-2",label:"Applicant Postcode"}),t(g,{class:"mt-2",label:"Applicant City"}),t(g,{class:"mt-2",label:"Applicant State"}),t(g,{class:"mt-2",label:"Applicant Email"})]),_:1})]),_:1}),t(se,null,{default:o(()=>[t(Q,null,{default:o(()=>[E("Filter Instanllation: ")]),_:1}),t(ee,null,{default:o(()=>[t(g,{class:"mt-2",label:"Installation Address1"}),t(g,{class:"mt-2",label:"Installation Address2"}),t(g,{class:"mt-2",label:"Installation Address3"}),t(g,{class:"mt-2",label:"Installation Postcode"}),t(g,{class:"mt-2",label:"Installation City"}),t(g,{class:"mt-2",label:"Installation State"}),t(g,{class:"mt-2",label:"Installation Property Type"}),t(g,{class:"mt-2",label:"Installation Contact Person"}),t(g,{class:"mt-2",label:"Installation Contact Number"})]),_:1})]),_:1}),t(se,null,{default:o(()=>[t(Q,null,{default:o(()=>[E("Filter Billing: ")]),_:1}),t(ee,null,{default:o(()=>[t(g,{class:"mt-2",label:"Billing Address1"}),t(g,{class:"mt-2",label:"Billing Address2"}),t(g,{class:"mt-2",label:"Billing Address3"}),t(g,{class:"mt-2",label:"Billing Postcode"}),t(g,{class:"mt-2",label:"Billing City"}),t(g,{class:"mt-2",label:"Billing State"})]),_:1})]),_:1})]),_:1})])}}};const sa=zt("v-alert-title"),oa=["success","info","warning","error"],re=G()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:me,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>oa.includes(e)},...J(),...ft(),...pt(),..._e(),..._t(),...gt(),...ge(),...ce(),...fe(),...yt({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,u){let{emit:s,slots:a}=u;const n=De(e,"modelValue"),l=P(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),c=P(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:d}=pe(e),{colorClasses:_,colorStyles:k,variantClasses:y}=ht(c),{densityClasses:p}=bt(e),{dimensionStyles:m}=xt(e),{elevationClasses:i}=ye(e),{locationStyles:b}=kt(e),{positionClasses:I}=Vt(e),{roundedClasses:N}=he(e),{textColorClasses:T,textColorStyles:L}=Ct(Y(e,"borderColor")),{t:V}=At(),A=P(()=>({"aria-label":V(e.closeLabel),onClick(v){n.value=!1,s("click:close",v)}}));return()=>{const v=!!(a.prepend||l.value),f=!!(a.title||e.title),w=!!(e.text||a.text),$=!!(a.close||e.closable);return n.value&&t(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},d.value,_.value,p.value,i.value,I.value,N.value,y.value,e.class],style:[k.value,m.value,b.value,e.style],role:"alert"},{default:()=>{var M,O;return[wt(!1,"v-alert"),e.border&&t("div",{key:"border",class:["v-alert__border",T.value],style:L.value},null),v&&t("div",{key:"prepend",class:"v-alert__prepend"},[a.prepend?t(Se,{key:"prepend-defaults",disabled:!l.value,defaults:{VIcon:{density:e.density,icon:l.value,size:e.prominent?44:28}}},a.prepend):t(X,{key:"prepend-icon",density:e.density,icon:l.value,size:e.prominent?44:28},null)]),t("div",{class:"v-alert__content"},[f&&t(sa,{key:"title"},{default:()=>{var R;return[((R=a.title)==null?void 0:R.call(a))??e.title]}}),w&&(((M=a.text)==null?void 0:M.call(a))??e.text),(O=a.default)==null?void 0:O.call(a)]),a.append&&t("div",{key:"append",class:"v-alert__append"},[a.append()]),$&&t("div",{key:"close",class:"v-alert__close"},[a.close?t(Se,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var R;return[(R=a.close)==null?void 0:R.call(a,{props:A.value})]}}):t(F,be({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},A.value),null)])]}})}}}),ia=x("div",{class:"v-card-title"},"Manual Assign 2",-1),ua={class:"mx-2"},ra={key:0,class:"text-right",style:{color:"rgb(var(--v-theme-error))"}},ca={__name:"ManualAssign2",setup(e){const u=C("result: 2"),s=C("FOLLOWUP = 2"),a=()=>{console.log("here")};return(n,l)=>(h(),S("div",null,[ia,t(ne,{class:"my-4"},{default:o(()=>[t(D,{cols:"12",md:"3"},{default:o(()=>[t(Je)]),_:1}),t(D,{cols:"12",md:"6"},{default:o(()=>[x("div",ua,[t(re,{variant:"outlined",color:"error"},{default:o(()=>[E(" Note: This action will replace on assigned data, if data assigned, and each time will limit 200 result ")]),_:1}),t(q,{class:"mt-4",items:n.users,variant:"outlined",label:"Assign Data To"},null,8,["items"]),t(g,{class:"mt-4",label:"Assign Limit"}),r(u).length>0?(h(),S("div",ra,H(r(u)),1)):B("",!0),t(F,{class:"mt-4",onClick:a},{default:o(()=>[E(" Assign ")]),_:1})])]),_:1}),t(D,{cols:"12",md:"3"},{default:o(()=>[r(s).length>0?(h(),W(re,{key:0,variant:"outlined",color:"error"},{default:o(()=>[E(H(r(s)),1)]),_:1})):B("",!0)]),_:1})]),_:1})]))}},Ee={__name:"ActionButton",props:{menuList:{type:Array,required:!1},menuTitle:{type:String,required:!0},itemProps:{type:Boolean,required:!1}},emits:["update-action"],setup(e,{emit:u}){const s=e,a=n=>{u("update-action",n)};return(n,l)=>(h(),W(F,{color:"primary",rounded:"pill"},{default:o(()=>[x("span",null,H(e.menuTitle),1),t(X,{icon:"tabler-chevron-down"}),s.menuList?(h(),W(Ue,{key:0,activator:"parent"},{default:o(()=>[t(We,null,{default:o(()=>[(h(!0),S(te,null,ue(s.menuList,(c,d)=>(h(),W(He,{onClick:_=>a(c.value)},{default:o(()=>[E(H(c.title),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})):B("",!0)]),_:1}))}};const da=x("div",{class:"v-card-title"},"Blocking",-1),ma={class:"mt-2"},va=x("div",{class:"d-flex align-center mt-4"},[x("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Name "),x("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Status ")],-1),fa={key:0},pa={class:"mt-6 d-flex justify-center"},_a={__name:"Blocking",setup(e){const u=C([{id:1952,name:"NICOLE"},{id:1953,name:"JENNY"},{id:1954,name:"SOPHIE"}]),s=["Allow","Block"];return(a,n)=>(h(),S("div",null,[da,x("div",ma,[t(ne,null,{default:o(()=>[t(D,{cols:"12",md:"4"}),t(D,{cols:"12",md:"4"},{default:o(()=>[va,(h(!0),S(te,null,ue(r(u),(l,c)=>(h(),S("div",{key:c,class:"d-flex align-center mt-4"},[t(Ht,{for:a.elementId,class:"text-high-emphasis fixed-label",text:`(${l.id}) ${l.name}`},null,8,["for","text"]),t(ze,{items:s})]))),128)),r(u).length==0?(h(),S("div",fa," There are no agents. ")):B("",!0),x("div",pa,[t(F,null,{default:o(()=>[E(" Apply ")]),_:1})])]),_:1}),t(D,{cols:"12",md:"4"})]),_:1})])]))}},ga=x("div",{class:"v-card-title"},"Auto Assign",-1),ya=x("div",{class:"mt-4 font-weight-bold"},[x("small",null,"Available List")],-1),ha={class:"text-right"},ba={class:"font-weight-bold"},xa={__name:"AutoAssign",emits:["update-action"],setup(e,{emit:u}){const s=C(0),a=C(0),n=C(0),l=Fe();Me();const c=parseInt(l.params.id),d=C(""),_=P(()=>d.value.length>0),k=["Normal","Random"],y=C([]),p=C(null),m=C("Normal"),i=C(0),b=()=>{const L=p.value,V=m.value,A=i.value;if(L==null||L==""){d.value="Please select a team leader";return}if(V==null||V==""){d.value="Please select a assign method";return}if(A==0){d.value="Amount must not be 0";return}if(A>s.value){d.value="amount must be less than or equal to available count";return}const v={leader:L,method:V,amount:A};oe.post(`/admin/campaigns/${c}/assign`,v).then(f=>{N()})},I=()=>{const L=jt()?"/users/leaders":"/users/agents";oe.get(L).then(V=>{const{leaders:A}=V.data;y.value=A.map(v=>({value:v.id,title:v.username}))})},N=()=>{oe.get(`/admin/campaigns/${c}/count-unassigned`).then(L=>{const{unassigned_count:V,total_count:A}=L.data;s.value=V,a.value=A,A!=0&&(n.value=V*100/A)})},T=()=>{u("update-action","list")};return de(()=>{I(),N()}),(L,V)=>{const A=ze,v=je;return h(),S("div",null,[ga,t(ne,{class:"my-4"},{default:o(()=>[t(D,{cols:"12",md:"3"}),t(D,{cols:"12",md:"6"},{default:o(()=>[t(re,{class:"mt-4",variant:"outlined",color:"error"},{default:o(()=>[E(" Note: This will apply on unassigned data ")]),_:1}),ya,t(St,{color:"primary",modelValue:r(n),"onUpdate:modelValue":V[0]||(V[0]=f=>z(n)?n.value=f:null),striped:""},null,8,["modelValue"]),x("div",ha,[x("small",ba,H(r(s)),1),x("small",null," / "+H(r(a)),1)]),t(A,{class:"mt-4",items:r(y),modelValue:r(p),"onUpdate:modelValue":V[1]||(V[1]=f=>z(p)?p.value=f:null),label:"Assign Data To"},null,8,["items","modelValue"]),t(A,{class:"mt-4",items:k,modelValue:r(m),"onUpdate:modelValue":V[2]||(V[2]=f=>z(m)?m.value=f:null),label:"Method"},null,8,["modelValue"]),t(v,{class:"mt-4",label:"Amount",type:"number",modelValue:r(i),"onUpdate:modelValue":V[3]||(V[3]=f=>z(i)?i.value=f:null)},null,8,["modelValue"]),t(F,{class:"mr-4 my-4",color:"error",onClick:T},{default:o(()=>[E(" Back to Main ")]),_:1}),t(F,{class:"my-4",onClick:b},{default:o(()=>[E(" Assign ")]),_:1})]),_:1}),t(D,{cols:"12",md:"3"}),t(Ye,{modelValue:r(_),"onUpdate:modelValue":V[4]||(V[4]=f=>z(_)?_.value=f:null),timeout:1e3,location:"top end",color:"error"},{default:o(()=>[E(H(r(d)),1)]),_:1},8,["modelValue"])]),_:1})])}}},Ze={__name:"FilteredList",props:{showSelect:{type:Boolean,required:!1},data:{type:Array,required:!0}},setup(e){const u=e,s=Me(),a=Y(u,"data"),n=C(qt),l=(c,d)=>{s.push(`/campaign-detail/${d.item.raw.id}`)};return(c,d)=>(h(),W(r(Xe),{headers:r(Xt).campaignDetail,items:r(a),"items-per-page":r(n).itemsPerPage,page:r(n).page,"show-select":e.showSelect,"onUpdate:options":d[2]||(d[2]=_=>n.value=_),"onClick:row":l},{bottom:o(()=>[t(qe,{class:"mt-8"},{default:o(()=>[t(ne,null,{default:o(()=>[t(D,{lg:"2",cols:"3"},{default:o(()=>[t(g,{modelValue:r(n).itemsPerPage,"onUpdate:modelValue":d[0]||(d[0]=_=>r(n).itemsPerPage=_),label:"Rows per page:",type:"number",min:"-1",max:"15","hide-details":""},null,8,["modelValue"])]),_:1}),t(D,{lg:"10",cols:"9",class:"d-flex justify-end"},{default:o(()=>[t(Qt,{modelValue:r(n).page,"onUpdate:modelValue":d[1]||(d[1]=_=>r(n).page=_),"total-visible":"5",length:Math.ceil(r(a).length/r(n).itemsPerPage)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1},8,["headers","items","items-per-page","page","show-select"]))}},ka=x("div",{class:"v-card-title"},"Manual Assign",-1),Va={class:"mx-2"},Ca={class:"d-flex align-center justify-center my-4"},Aa={__name:"ManualAssign",setup(e){const u=()=>{console.log("here")};return(s,a)=>(h(),S("div",null,[ka,t(ne,{class:"my-4"},{default:o(()=>[t(D,{cols:"12",md:"3"},{default:o(()=>[t(Je)]),_:1}),t(D,{cols:"12",md:"9"},{default:o(()=>[x("div",Va,[t(re,{variant:"outlined",color:"error"},{default:o(()=>[E(" Note: This action will replace on assigned data, if data assigned, and each time will limit 200 result ")]),_:1}),x("div",Ca,[t(q,{items:s.users,variant:"outlined",label:"Assign Data To"},null,8,["items"]),t(F,{class:"ml-2",onClick:u},{default:o(()=>[E(" Assign ")]),_:1})]),t(Ze,{showSelect:""})])]),_:1})]),_:1})]))}};function wa(e){let{rootEl:u,isSticky:s,layoutItemStyles:a}=e;const n=C(!1),l=C(0),c=P(()=>{const k=typeof n.value=="boolean"?"top":n.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,n.value?{[k]:Z(l.value)}:{top:a.value.top}]});de(()=>{K(s,k=>{k?window.addEventListener("scroll",_,{passive:!0}):window.removeEventListener("scroll",_)},{immediate:!0})}),Oe(()=>{document.removeEventListener("scroll",_)});let d=0;function _(){const k=d>window.scrollY?"up":"down",y=u.value.getBoundingClientRect(),p=parseFloat(a.value.top??0),m=window.scrollY-Math.max(0,l.value-p),i=y.height+Math.max(l.value,p)-window.scrollY-window.innerHeight;y.height<window.innerHeight-p?(n.value="top",l.value=p):k==="up"&&n.value==="bottom"||k==="down"&&n.value==="top"?(l.value=window.scrollY+y.top,n.value=!0):k==="down"&&i<=0?(l.value=0,n.value="bottom"):k==="up"&&m<=0&&(l.value=y.top+m,n.value="top"),d=window.scrollY}return{isStuck:n,stickyStyles:c}}const Sa=100,Pa=20;function $e(e){const u=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*u}function Le(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let u=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const a=$e(u),n=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);u+=(n-a)*Math.abs(n),s===e.length-1&&(u*=.5)}return $e(u)*1e3}function Ta(){const e={};function u(n){Array.from(n.changedTouches).forEach(l=>{(e[l.identifier]??(e[l.identifier]=new Pt(Pa))).push([n.timeStamp,l])})}function s(n){Array.from(n.changedTouches).forEach(l=>{delete e[l.identifier]})}function a(n){var k;const l=(k=e[n])==null?void 0:k.values().reverse();if(!l)throw new Error(`No samples for touch id ${n}`);const c=l[0],d=[],_=[];for(const y of l){if(c[0]-y[0]>Sa)break;d.push({t:y[0],d:y[1].clientX}),_.push({t:y[0],d:y[1].clientY})}return{x:Le(d),y:Le(_),get direction(){const{x:y,y:p}=this,[m,i]=[Math.abs(y),Math.abs(p)];return m>i&&y>=0?"right":m>i&&y<=0?"left":i>m&&p>=0?"down":i>m&&p<=0?"up":Ea()}}}return{addMovement:u,endTouch:s,getVelocity:a}}function Ea(){throw new Error}function $a(e){let{isActive:u,isTemporary:s,width:a,touchless:n,position:l}=e;de(()=>{window.addEventListener("touchstart",T,{passive:!0}),window.addEventListener("touchmove",L,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),Oe(()=>{window.removeEventListener("touchstart",T),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",V)});const c=P(()=>["left","right"].includes(l.value)),{addMovement:d,endTouch:_,getVelocity:k}=Ta();let y=!1;const p=C(!1),m=C(0),i=C(0);let b;function I(v,f){return(l.value==="left"?v:l.value==="right"?document.documentElement.clientWidth-v:l.value==="top"?v:l.value==="bottom"?document.documentElement.clientHeight-v:j())-(f?a.value:0)}function N(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const w=l.value==="left"?(v-i.value)/a.value:l.value==="right"?(document.documentElement.clientWidth-v-i.value)/a.value:l.value==="top"?(v-i.value)/a.value:l.value==="bottom"?(document.documentElement.clientHeight-v-i.value)/a.value:j();return f?Math.max(0,Math.min(1,w)):w}function T(v){if(n.value)return;const f=v.changedTouches[0].clientX,w=v.changedTouches[0].clientY,$=25,M=l.value==="left"?f<$:l.value==="right"?f>document.documentElement.clientWidth-$:l.value==="top"?w<$:l.value==="bottom"?w>document.documentElement.clientHeight-$:j(),O=u.value&&(l.value==="left"?f<a.value:l.value==="right"?f>document.documentElement.clientWidth-a.value:l.value==="top"?w<a.value:l.value==="bottom"?w>document.documentElement.clientHeight-a.value:j());(M||O||u.value&&s.value)&&(y=!0,b=[f,w],i.value=I(c.value?f:w,u.value),m.value=N(c.value?f:w),_(v),d(v))}function L(v){const f=v.changedTouches[0].clientX,w=v.changedTouches[0].clientY;if(y){if(!v.cancelable){y=!1;return}const M=Math.abs(f-b[0]),O=Math.abs(w-b[1]);(c.value?M>O&&M>3:O>M&&O>3)?(p.value=!0,y=!1):(c.value?O:M)>3&&(y=!1)}if(!p.value)return;v.preventDefault(),d(v);const $=N(c.value?f:w,!1);m.value=Math.max(0,Math.min(1,$)),$>1?i.value=I(c.value?f:w,!0):$<0&&(i.value=I(c.value?f:w,!1))}function V(v){if(y=!1,!p.value)return;d(v),p.value=!1;const f=k(v.changedTouches[0].identifier),w=Math.abs(f.x),$=Math.abs(f.y);(c.value?w>$&&w>400:$>w&&$>3)?u.value=f.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||j()):u.value=m.value>.5}const A=P(()=>p.value?{transform:l.value==="left"?`translateX(calc(-100% + ${m.value*a.value}px))`:l.value==="right"?`translateX(calc(100% - ${m.value*a.value}px))`:l.value==="top"?`translateY(calc(-100% + ${m.value*a.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${m.value*a.value}px))`:j(),transition:"none"}:void 0);return{isDragging:p,dragProgress:m,dragStyles:A}}function j(){throw new Error}const La=["start","end","left","right","top","bottom"],Ia=G()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>La.includes(e)},sticky:Boolean,...Tt(),...J(),..._e(),...Et(),...ge(),...ce({tag:"nav"}),...fe()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,u){let{attrs:s,emit:a,slots:n}=u;const{isRtl:l}=$t(),{themeClasses:c}=pe(e),{borderClasses:d}=Lt(e),{backgroundColorClasses:_,backgroundColorStyles:k}=ie(Y(e,"color")),{elevationClasses:y}=ye(e),{mobile:p}=It(),{roundedClasses:m}=he(e),i=Bt(),b=De(e,"modelValue",null,U=>!!U),{ssrBootStyles:I}=Yt(),N=C(),T=C(!1),L=P(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=P(()=>Nt(e.location,l.value)),A=P(()=>!e.permanent&&(p.value||e.temporary)),v=P(()=>e.sticky&&!A.value&&V.value!=="bottom");e.expandOnHover&&e.rail!=null&&K(T,U=>a("update:rail",!U)),e.disableResizeWatcher||K(A,U=>!e.permanent&&Dt(()=>b.value=!U)),!e.disableRouteWatcher&&i&&K(i.currentRoute,()=>A.value&&(b.value=!1)),K(()=>e.permanent,U=>{U&&(b.value=!0)}),Ft(()=>{e.modelValue!=null||A.value||(b.value=e.permanent||!p.value)});const{isDragging:f,dragProgress:w,dragStyles:$}=$a({isActive:b,isTemporary:A,width:L,touchless:Y(e,"touchless"),position:V}),M=P(()=>{const U=A.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):L.value;return f.value?U*w.value:U}),{layoutItemStyles:O,layoutRect:R,layoutItemScrimStyles:Qe}=Mt({id:e.name,order:P(()=>parseInt(e.order,10)),position:V,layoutSize:M,elementSize:L,active:P(()=>b.value||f.value),disableTransitions:P(()=>f.value),absolute:P(()=>e.absolute||v.value&&typeof xe.value!="string")}),{isStuck:xe,stickyStyles:et}=wa({rootEl:N,isSticky:v,layoutItemStyles:O}),ke=ie(P(()=>typeof e.scrim=="string"?e.scrim:null)),tt=P(()=>({...f.value?{opacity:w.value*.2,transition:"none"}:void 0,...R.value?{left:Z(R.value.left),right:Z(R.value.right),top:Z(R.value.top),bottom:Z(R.value.bottom)}:void 0,...Qe.value}));Ie({VList:{bgColor:"transparent"}});function at(){T.value=!0}function lt(){T.value=!1}return le(()=>{const U=n.image||e.image;return t(te,null,[t(e.tag,be({ref:N,onMouseenter:at,onMouseleave:lt,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":A.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":v.value},c.value,_.value,d.value,y.value,m.value,e.class],style:[k.value,O.value,$.value,I.value,et.value,e.style]},s),{default:()=>{var Ve,Ce,Ae,we;return[U&&t("div",{key:"image",class:"v-navigation-drawer__img"},[n.image?(Ve=n.image)==null?void 0:Ve.call(n,{image:e.image}):t("img",{src:e.image,alt:""},null)]),n.prepend&&t("div",{class:"v-navigation-drawer__prepend"},[(Ce=n.prepend)==null?void 0:Ce.call(n)]),t("div",{class:"v-navigation-drawer__content"},[(Ae=n.default)==null?void 0:Ae.call(n)]),n.append&&t("div",{class:"v-navigation-drawer__append"},[(we=n.append)==null?void 0:we.call(n)])]}}),t(Ot,{name:"fade-transition"},{default:()=>[A.value&&(f.value||b.value)&&!!e.scrim&&t("div",{class:["v-navigation-drawer__scrim",ke.backgroundColorClasses.value],style:[tt.value,ke.backgroundColorStyles.value],onClick:()=>b.value=!1},null)]})])}),{isStuck:xe}}}),Ba={class:"customizer-heading d-flex align-center justify-space-between"},Na=x("div",null,[x("h6",{class:"text-h6"}," Custom Filter "),x("span",{class:"text-body-1"},"Customize fields for Filter")],-1),Da={class:"mx-6 pt-4"},Fa={class:"mt-2 d-flex align-end justify-start"},Ma={__name:"CustomFilter",props:{isNavDrawerOpen:{type:Boolean,required:!0}},emits:["close-custom-filter"],setup(e,{emit:u}){const s=e,a=P(()=>n.value.length>0),n=C(""),l=C(""),c=()=>{l.value=""},d=C({applicantname:"",applicantidentity:""}),_=Rt(s,"isNavDrawerOpen"),k=()=>{const p=d.value,m=l.value;let i=null,b=null;m&&m.length>=24&&([i,b]=m.split(" to "),console.log(i,b)),u("apply-custom-filter",{applicantname:p.applicantname.trim(),applicantidentity:p.applicantidentity.trim(),start_date:i,end_date:b})},y=()=>{u("close-custom-filter")};return(p,m)=>{const i=Pe("IconBtn"),b=ve,I=je,N=Pe("PerfectScrollbar");return h(),S("div",null,[t(Ia,{modelValue:r(_),"onUpdate:modelValue":m[3]||(m[3]=T=>z(_)?_.value=T:null),temporary:"",border:"0",location:"end",width:"400",scrim:!1,class:"app-customizer"},{default:o(()=>[x("div",Ba,[Na,t(i,{onClick:y},{default:o(()=>[t(X,{icon:"tabler-x",size:"20"})]),_:1})]),t(ea),t(N,{tag:"ul",options:{wheelPropagation:!1}},{default:o(()=>[x("div",Da,[x("div",Fa,[t(b,{modelValue:r(l),"onUpdate:modelValue":m[0]||(m[0]=T=>z(l)?l.value=T:null),label:"Period",config:{mode:"range"}},null,8,["modelValue"]),t(i,{class:"mr-4",color:"primary",disabled:!r(l)||r(l)=="",onClick:c},{default:o(()=>[t(X,{icon:"tabler-eraser"})]),_:1},8,["disabled"])]),t(I,{class:"mt-2",modelValue:r(d).applicantname,"onUpdate:modelValue":m[1]||(m[1]=T=>r(d).applicantname=T),label:"Applicant Name"},null,8,["modelValue"]),t(I,{class:"mt-2",modelValue:r(d).applicantidentity,"onUpdate:modelValue":m[2]||(m[2]=T=>r(d).applicantidentity=T),label:"Applicant Identity"},null,8,["modelValue"]),t(F,{block:"",class:"mt-4",onClick:k},{default:o(()=>[E(" Apply Custom Filter ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),t(Ye,{modelValue:r(a),"onUpdate:modelValue":m[4]||(m[4]=T=>z(a)?a.value=T:null),timeout:1e3,location:"top end",color:"error"},{default:o(()=>[E(H(r(n)),1)]),_:1},8,["modelValue"])])}}};const Oa={class:"filter-tabs"},Ra=x("div",{class:"d-flex w-full"},[x("small",null,"Filter: ")],-1),Ua={class:"mb-2"},Wa={__name:"FilterTabs",props:{filterList:{type:Object,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},is_custom:{type:String,required:!1}},emits:["set-filter","set-custom-filter"],setup(e,{emit:u}){const s=e,a=Y(s,"status");Y(s,"sub_status");const n=Y(s,"is_custom"),l="submission",c=(k,y)=>{u("set-filter",{status:k,sub_status:y})},d=()=>{u("set-custom-filter")},_=k=>{k=="Default"?c("Default",""):k==l&&c(l,l)};return(k,y)=>(h(),S("div",Oa,[Ra,x("div",Ua,[(h(!0),S(te,null,ue(s.filterList,(p,m)=>(h(),W(Ue,{key:m},{activator:o(({props:i})=>[p.items.All>0?(h(),W(F,be({key:0,variant:"text",color:!r(n)&&p.key.toLowerCase()==r(a).toLowerCase()?"primary":"black",onClick:b=>_(p.key)},i),{default:o(()=>[t(Te,{class:"custom__badge mr-4",content:p.items.All,"offset-x":-8,"offset-y":-8},{default:o(()=>[E(H(p.key),1)]),_:2},1032,["content"]),Object.keys(p.items).length>1?(h(),W(X,{key:0,icon:"tabler-chevron-down"})):B("",!0)]),_:2},1040,["color","onClick"])):B("",!0)]),default:o(()=>[Object.keys(p.items).length>1?(h(),W(We,{key:0},{default:o(()=>[(h(!0),S(te,null,ue(p.items,(i,b)=>(h(),W(He,{key:b,onClick:I=>c(p.key,b)},{default:o(()=>[t(Te,{class:"custom__badge",content:i,"offset-x":-18,"offset-y":6},{default:o(()=>[E(H(b),1)]),_:2},1032,["content"])]),_:2},1032,["onClick"]))),128))]),_:2},1024)):B("",!0)]),_:2},1024))),128)),t(F,{class:"ml-2",variant:"outlined",color:r(n)?"primary":"black",onClick:d},{default:o(()=>[E(" Custom Filter ")]),_:1},8,["color"])])]))}},Ha={__name:"ListWithFilter",props:{campaign_id:{type:Number,required:!0}},setup(e){const u=e,s=C({}),a=C([]),n=C("Default"),l=C(""),c=C(!1),d=C(!1),_=i=>{oe.post(`/admin/campaigns/${u.campaign_id}/detail`,{status:n.value,sub_status:l.value,...i}).then(b=>{const I=[],{counts_status:N,counts_substatus:T,list:L}=b.data;let V,A;for(var v of N){const f=v.progressStatus==""?"Default":v.progressStatus,w={All:v.count};f=="Default"?v.count!=0&&(V={key:f,items:w}):f=="submission"?v.count!=0&&(A={key:f,items:w}):(T.filter($=>$.progressStatus==v.progressStatus).forEach($=>{w[$.progressSubStatus]=$.count}),I.push({key:f,items:w}))}V&&I.unshift(V),A&&I.push(A),s.value=I,a.value=L})},k=i=>{(n.value!=i.status||l.value!=i.sub_status)&&(n.value=i.status,l.value=i.sub_status,d.value=!1,_())},y=()=>{c.value=!0},p=()=>{c.value=!1},m=i=>{_(i),i.applicantname.length==0&&i.applicantidentity.length==0&&(!i.start_date||i.start_date.length==0)&&(!i.end_date||i.end_date.length==0)?d.value=!1:d.value=!0};return de(()=>{_()}),(i,b)=>(h(),S("div",null,[Object.keys(r(s)).length>0?(h(),W(Wa,{key:0,filterList:r(s),status:r(n),sub_status:r(l),is_custom:r(d),onSetCustomFilter:y,onSetFilter:k},null,8,["filterList","status","sub_status","is_custom"])):B("",!0),t(Ze,{class:"mt-2",data:r(a)},null,8,["data"]),t(Ma,{isNavDrawerOpen:r(c),onCloseCustomFilter:p,onApplyCustomFilter:m},null,8,["isNavDrawerOpen"])]))}},za={class:"mt-4"},Ke={__name:"StatisticsList",props:{data:{type:Array,required:!0}},setup(e){const u=[{key:"name",title:"Name"},{key:"INEFFECTIVE",title:"INEFFECTIVE"},{key:"REJECT",title:"REJECT"},{key:"SUCCESS",title:"SUCCESS (Consumer Plan)"},{key:"WINBACK",title:"WINBACK"},{key:"NEW_NEW",title:"NEW NEW"},{key:"TOTAL_CALLS	",title:"TOTAL CALLS"},{key:"CONVERSION_RATE",title:"CONVERSION RATE"}];return(s,a)=>(h(),S("div",za,[t(r(Xe),{headers:u,items:e.data},null,8,["items"])]))}},Ya=x("div",{class:"v-card-title"},"Accumulated Data",-1),ja={__name:"AccumulateList",setup(e){const u=C([]);return(s,a)=>(h(),S("div",null,[Ya,t(Ke,{data:r(u)},null,8,["data"])]))}};const qa=x("div",{class:"v-card-title"},"Filtered Accumulated Data",-1),Xa=x("div",{class:"d-flex mb-2 mx-4"},[x("small",null,"Filter: ")],-1),Ga={class:"d-flex mx-4 align-center"},Ja={__name:"DateAccumulateList",setup(e){const u=C([]),s=C(""),a=["By Progress Updated Date","By Import Date","By Successful Date"];return(n,l)=>{const c=ve;return h(),S("div",null,[qa,Xa,x("div",Ga,[t(q,{class:"mr-2 date-option",items:a,label:"Date Option"}),t(c,{class:"mr-4 date-picker",modelValue:r(s),"onUpdate:modelValue":l[0]||(l[0]=d=>z(s)?s.value=d:null),config:{mode:"range"}},null,8,["modelValue"]),t(F,null,{default:o(()=>[E(" Apply ")]),_:1})]),t(Ke,{data:r(u)},null,8,["data"])])}}};const Za={class:"d-flex align-end justify-end"},Ka={key:0},Qa={key:1},el={key:2},tl={key:3},al={key:4},ll={key:5},nl={key:6},Al={__name:"[id]",setup(e){const u=[{title:"Auto Assign",value:"auto-assign"},{title:"Manual Assign",value:"manual-assign"},{title:"Manual Assign2",value:"manual-assign2"}],s=[{title:"Accumulate",value:"accumulate"},{title:"Today",value:"today"}],a=Fe(),n=parseInt(a.params.id),l=C("list"),c=d=>{l.value=d};return(d,_)=>{const k=ca;return h(),S("div",null,[t(Kt,null,{default:o(()=>[t(Jt,null,Ut({default:o(()=>[t(Zt,null,{default:o(()=>[E("Campaign Detail")]),_:1})]),_:2},[r(Gt)()?{name:"append",fn:o(()=>[x("div",Za,[t(Ee,{class:"mr-2",menuTitle:"Assign",onUpdateAction:c,menuList:u}),t(Ee,{class:"mr-2",menuTitle:"Lead Progress",onUpdateAction:c,menuList:s}),t(F,{class:"mr-2",color:"success",rounded:"pill",onClick:_[0]||(_[0]=()=>c("list"))},{default:o(()=>[E(" Manage ")]),_:1})])]),key:"0"}:void 0]),1024),t(qe,null,{default:o(()=>[r(l)=="auto-assign"?(h(),S("div",Ka,[t(xa,{onUpdateAction:c})])):B("",!0),r(l)=="manual-assign"?(h(),S("div",Qa,[t(Aa,{onUpdateAction:c})])):B("",!0),r(l)=="manual-assign2"?(h(),S("div",el,[t(k)])):B("",!0),r(l)=="list"?(h(),S("div",tl,[t(Ha,{campaign_id:r(n)},null,8,["campaign_id"])])):B("",!0),r(l)=="accumulate"?(h(),S("div",al,[t(ja)])):B("",!0),r(l)=="today"?(h(),S("div",ll,[t(Ja)])):B("",!0),r(l)=="blocking"?(h(),S("div",nl,[t(_a)])):B("",!0)]),_:1})]),_:1})])}}};export{Al as default};
